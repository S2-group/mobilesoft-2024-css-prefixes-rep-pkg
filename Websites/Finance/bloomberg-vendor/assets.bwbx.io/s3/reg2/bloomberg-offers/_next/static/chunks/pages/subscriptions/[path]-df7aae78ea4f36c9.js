(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{197:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiAyMkMxNy41MjI4IDIyIDIyIDE3LjUyMjggMjIgMTJDMjIgNi40NzcxNSAxNy41MjI4IDIgMTIgMkM2LjQ3NzE1IDIgMiA2LjQ3NzE1IDIgMTJDMiAxNy41MjI4IDYuNDc3MTUgMjIgMTIgMjJaTTEwLjY2NjcgOC42NjY2N1Y2SDEzLjMzMzNWOC42NjY2N0wxMi42NjI1IDE0SDExLjMzNzVMMTAuNjY2NyA4LjY2NjY3Wk0xMC42NjY3IDE4VjE1LjMzMzNIMTMuMzMzM1YxOEgxMC42NjY3WiIgZmlsbD0iIzhFMTAxMCIvPgo8L3N2Zz4K"},336:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(29),i=n(7794),o=n.n(i),a=n(7294),s=n(6635),u=n(4599),c=n(1543),l=n(6829),d=n(1641),f=n(1237),g=n.n(f),p=n(2258),m=n(8815),x=n(5893),b=u.Z.ESCAPE_KEY,v="exit-modal-wrapper",h="exit-modal-title",j=function(e){var t=e.closeModal,n=(0,a.useState)(300),r=n[0],i=n[1],o=Math.floor(r/60),u=r%60,f="0".concat(o," : ").concat(u<10?"0".concat(u):u),j=(0,a.useCallback)((function(){r?i(r-1):t()}),[r,t]),M=(0,a.useCallback)((function(e){if(e.keyCode===b)t()}),[t]);(0,a.useEffect)((function(){return document.addEventListener("keydown",M),function(){return document.removeEventListener("keydown",M)}}),[M,j]),(0,a.useEffect)((function(){var e=setTimeout(j,1e3);return function(){return clearTimeout(e)}}),[j]),(0,a.useEffect)((function(){var e=document.getElementById(v);null!==e&&(0,s.ZP)(e)}),[]);var _=(0,a.useCallback)((function(e){e.target.id===v&&t()}),[t]);return(0,x.jsx)("div",{id:v,className:g().exitModalWrapper,onClick:function(e){return _(e)},children:(0,x.jsx)("div",{className:g().exitModal,role:"dialog","aria-modal":"true","aria-labelledby":h,children:(0,x.jsxs)("div",{className:g().exitModalContent,children:[(0,x.jsx)("div",{className:g().exitModalCloseButton,children:(0,x.jsx)(c.h,{onClick:t,children:(0,x.jsx)(l.n$,{})})}),(0,x.jsx)("h3",{id:h,className:g().exitModalTitle,children:"Bloomberg"}),(0,x.jsx)("div",{className:g().exitModalSubtitle,children:"Get an additional 30% off our annual digital plan."}),(0,x.jsx)("div",{className:g().exitModalTimer,children:f}),(0,x.jsx)("div",{className:g().exitModalButtonWrapper,children:(0,x.jsx)(d.Z,{href:"".concat((0,p.e)(m.Qe.DIGITAL),"?id=2c92a00c6bda5396016be1a04318506a&in_source=abandon-modal"),theme:"blue",size:"large",fullWidth:!0,children:"Unlock my offer"})})]})})})},M=n(4125),_=n(9749),y=n(6240),I=n(5804),N=n(1163),k=n(2042),w=n(6808),C=n.n(w),D=function(e){return!e.startDate||new Date(e.startDate).getTime()<Date.now()},E=function(e){var t=e.pageData,n=e.isPreview,i="bbg-offers-exit-modal-trigger-time-".concat(t.id),s=(0,a.useState)(!1),u=s[0],c=s[1],l=(0,a.useCallback)((function(){return c(!1)}),[]),d=(0,a.useState)(null),f=d[0],g=d[1],p=(0,a.useState)(!1),m=p[0],b=p[1],v=(0,a.useState)(!0),h=v[0],w=v[1],E=(0,N.useRouter)(),Z=t.redirectionMap,S=(0,k.s)(),O=function(){try{var e=C().get(I.g1);return e?decodeURIComponent(e):null}catch(t){return null}}(),P=(0,a.useCallback)((function(){if(O||Z){var e=E.asPath.indexOf("?"),t=-1===e?E.asPath:E.asPath.substring(0,e),n=-1===e?"":E.asPath.substring(e);if(n.includes("stick_the_landing=true"))w(!1);else{var r;if(O)r=O;else if(Z){var i,o=Z.filter((function(e){return e.country===S}));if(1===o.length&&null===o[0].source&&D(o[0]))r=o[0].target;else r=null===(i=o.filter((function(e){return e.source===t&&D(e)}))[0])||void 0===i?void 0:i.target}r&&t!==r?E.push(r+n):w(!1)}}else w(!1)}),[S,O,Z,E]),T=(0,a.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:return e.t0=g,e.next=5,y.Z.getAllConfigs();case 5:e.t1=e.sent,(0,e.t0)(e.t1),b(!0);case 8:case"end":return e.stop()}}),e)}))),[h]);(0,a.useEffect)((function(){P(),T()}),[P,T]),(0,a.useEffect)((function(){_.Z.trackMarketingPageview()}),[]);var A=(0,a.useCallback)((function(){var e,t;if(m&&(null===f||void 0===f||null===(e=f.offers)||void 0===e||null===(t=e[I.hM.PAGE_CONFIG])||void 0===t||!t.disableExitModal)){var n=Date.now(),r=Number(window.localStorage.getItem(i));!u&&(n-r)/36e6>=24&&(window.localStorage.setItem(i,n.toString()),c(!0))}}),[u,i,m,f]);return(0,x.jsx)("main",{role:"main",children:(0,x.jsxs)("div",{id:"home-wrapper","data-testid":"home-content",onMouseLeave:A,children:[u&&(0,x.jsx)(j,{closeModal:l}),(0,x.jsx)(M.Z,{zones:t.zones,pageId:t.id,abbaConfig:f,abbaConfigFetched:m,newsletter:t.newsletter,overrideCountryCode:t.overrideCountryCode,isPreview:n})]})})}},1780:function(e,t,n){"use strict";n(7294);var r=n(9008),i=n.n(r),o=n(5893);t.Z=function(e){var t=e.pageData,n=null;return t.hideFromSearchEngines&&(n=(0,o.jsx)("meta",{name:"robots",content:"noindex"})),(0,o.jsxs)(i(),{children:[(0,o.jsx)("meta",{name:"description",content:t.description}),n,(0,o.jsx)("title",{children:t.seoTitle||t.title})]})}},8737:function(e,t,n){"use strict";n(7294);var r=n(1641),i=n(2503),o=n(197),a=n.n(o),s=n(648),u=n.n(s),c=n(5893);t.Z=function(){return(0,c.jsxs)("main",{role:"main",children:[(0,c.jsx)("div",{className:u().notFoundIcon,children:(0,c.jsx)(i.Z,{imagePath:a(),mobileImagePath:a(),imageAlt:"Not Found"})}),(0,c.jsx)("div",{className:u().notFound,children:"We weren't able to find the page you were looking for."}),(0,c.jsx)("div",{className:u().defaultOfferLink,children:(0,c.jsx)(r.Z,{href:"/subscriptions",target:"",theme:"black",size:"standard",children:"Click here to see our offers"})}),(0,c.jsxs)("div",{className:u().customerSupport,children:["If you think this is an error, please contact\xa0",(0,c.jsx)("a",{href:"/feedback",children:"Customer Support."})]})]})}},7439:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return u}});n(7294);var r=n(3439),i=n(336),o=n(1780),a=n(8737),s=n(5893),u=!0;t.default=function(e){var t=e.pageData;return(0,r.S)(),t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{pageData:t}),(0,s.jsx)(i.Z,{pageData:t})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{pageData:{description:"Offer Not Found",hideFromSearchEngines:!0,title:"Offer Not Found"}}),(0,s.jsx)(a.Z,{})]})}},6240:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(9499),i=n(6835),o=n(29),a=n(7794),s=n.n(a),u=n(6808),c=n.n(u),l=n(5804);function d(){try{return JSON.parse(c().get(l.Ic)).subscriberData}catch(e){return null}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=d(),window.__bloomberg__){e.next=4;break}return e.abrupt("return",Promise.resolve({}));case 4:return e.abrupt("return",window.__bloomberg__.getAbbaConfig(t,n||{subscriber:!1}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var x={getAllConfigs:function(){return(0,o.Z)(s().mark((function e(){var t,n,r,o,a,u,c,l,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([p("offers"),p("pages")]);case 2:return t=e.sent,n=(0,i.Z)(t,2),r=n[0],o=n[1],window.__bloomberg__&&(window.__bloomberg__.abbaConfig=g(g(g({},r),o),{},{tracking:{experiment:[null===(a=r.tracking)||void 0===a?void 0:a.experiment,null===(u=o.tracking)||void 0===u?void 0:u.experiment].filter((function(e){return e})).join(","),sources:g(g({},null===(c=r.tracking)||void 0===c?void 0:c.sources),null===(l=o.tracking)||void 0===l?void 0:l.sources),targets:[null===(d=r.tracking)||void 0===d?void 0:d.targets,null===(f=o.tracking)||void 0===f?void 0:f.targets].filter((function(e){return e})).join(",")}})),e.abrupt("return",{offers:r,pages:o});case 8:case"end":return e.stop()}}),e)})))()}}},6635:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s}});var r=n(4599).Z.TAB_KEY;function i(){return document.activeElement===document.querySelector("body")}function o(e,t){return function(e){return(e.keyCode===r||"Tab"===e.key)&&!0===e.shiftKey}(e)&&(document.activeElement===t[0]||i())}function a(e,t){return function(e){return(e.keyCode===r||"Tab"===e.key)&&!1===e.shiftKey}(e)&&(document.activeElement===t[t.length-1]||i())}function s(e){e.addEventListener("keydown",(function(t){var n=function(e){return e.querySelectorAll('button, a[href]:not(:empty), input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')}(e);if(o(t,n))return t.preventDefault(),void n[n.length-1].focus();a(t,n)&&(t.preventDefault(),n[0].focus())}))}},4213:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscriptions/[path]",function(){return n(7439)}])},1237:function(e){e.exports={exitModalWrapper:"styles_exitModalWrapper___6bhe",exitModal:"styles_exitModal__8UuaN",exitModalContent:"styles_exitModalContent__fMLas",exitModalCloseButton:"styles_exitModalCloseButton__M7k7B",exitModalTitle:"styles_exitModalTitle__878mk",exitModalSubtitle:"styles_exitModalSubtitle__Zjqip",exitModalTimer:"styles_exitModalTimer__Z4mNQ",exitModalButtonWrapper:"styles_exitModalButtonWrapper__vS1qQ"}},648:function(e){e.exports={notFoundIcon:"styles_notFoundIcon__RhAFj",notFound:"styles_notFound__OmhGo",defaultOfferLink:"styles_defaultOfferLink__7KIVM",customerSupport:"styles_customerSupport__YDNpE"}}},function(e){e.O(0,[445,662,866,422,161,215,825,774,888,179],(function(){return t=4213,e(e.s=t);var t}));var t=e.O();_N_E=t}]);