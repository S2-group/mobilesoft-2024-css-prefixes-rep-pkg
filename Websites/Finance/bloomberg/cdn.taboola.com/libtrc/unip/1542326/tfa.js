/*! 20230702-3-RELEASE */

function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t='TFASC';t.indexOf("{jsScope}")>-1&&(t="TRC"),e[t]||(e[t]={})}(window),function(e,t){e.TRC=e.TRC||{};var i=function e(){return!0},n=function i(n,r,o,s){var a=n+"/"+encodeURIComponent(o||e.TRC.publisherId)+"/log/3"+"/"+r;return s&&(a+="?"+t.TRCLogger.formatParams(s)),a},r=function t(n,r,s){var a,c=new(e.XDomainRequest||e.XMLHttpRequest);return c.open(n,r),c.onload=i,c.onerror=i,c.ontimeout=i,c.onprogress=i,c.withCredentials=!0,s&&o(c,s),c},o=function e(t,i){for(var n in i)i.hasOwnProperty(n)&&t.setRequestHeader(n,i[n])};e.TRC.TRCLogger=t.TRCLogger={post:function i(o,s,a,c,u,l){var f=n(o,s,c,u),d=r("POST",f);l&&"function"==typeof e.navigator.sendBeacon?e.navigator.sendBeacon(f,t.TRCLogger.formatBeaconParams(a)):(d.setRequestHeader&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(t.TRCLogger.formatParams(a)))},get:function e(t,i,o,s){if(o.headers){var a=o.headers;delete o.headers}var c=n(t,i,s,o),u;r("GET",c,a).send()},formatParams:function e(t){var i=[];for(var n in t)t.hasOwnProperty(n)&&i.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return i.join("&")},formatBeaconParams:function e(t){var i="",n;for(var r in t)t.hasOwnProperty(r)&&(i+=r+"="+encodeURIComponent(t[r])+"&");return new Blob([i.slice(0,-1)],{type:"application/x-www-form-urlencoded"})},reportES:function e(i){if(t&&t.util&&t.util.isPercentEnabled(TRCImpl.global,"enable-rbox-es-events")){var n=TRCImpl&&TRCImpl.global&&TRCImpl.global["rbox-es-events-url"]||"https://vidanalytics.taboola.com/putes";n=n+"/"+i.index;var r={timestamp:(new Date).toISOString(),name:i.name};for(var o in i.data)r[o]=i.data[o];if("function"==typeof navigator.sendBeacon)navigator.sendBeacon(n,JSON.stringify(r));else{var s=new XMLHttpRequest;s.open("POST",n,!0),s.send(JSON.stringify(r))}}}}}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t){if(t&&!t.MessageDelayer){var i=function i(n){return function(i){var r=i.detail,o=i.type,s=""+r[this.groupingKeyName],a=this.delayedEventsMap[s],c=t.eventUtils.getDateNow();if(a){this.timeoutHandles[s]&&(clearTimeout(this.timeoutHandles[s]),this.timeoutHandles[s]=null);var u=[].concat(a);this.delayedEventsMap[s]=[];for(var l=0;l<u.length;l++){var f=u[l],d;n(f.config).apply(e,[f.groupingKey,f.message,r,o,c-f.queueTime])}}}},n=i(function(e){return e.successCallback}),r=i(function(e){return e.failCallback}),o=function e(t,i){var n=""+t;this.timeoutHandles[n]||(this.timeoutHandles[n]=setTimeout(function(){this.timeoutHandles[n]=null;var e={};e[this.groupingKeyName]=t,r.call(this,{detail:e,type:"dt"})}.bind(this),i))};t.MessageDelayer=function(e,i,o){if(this.groupingKeyName=e,this.delayedEventsMap={},this.timeoutHandles={},t.eventUtils.safeAddEventListener(i,n.bind(this)),o)for(var s=0;s<o.length;s++)t.eventUtils.safeAddEventListener(o[s],r.bind(this))},t.MessageDelayer.prototype={constructor:t.MessageDelayer,delayMessage:function e(i,n,r){var s=""+i;r.failCallback=r.failCallback||function(){},this.delayedEventsMap[s]||(this.delayedEventsMap[s]=[]),this.delayedEventsMap[s].push({groupingKey:i,message:n,config:r,queueTime:t.eventUtils.getDateNow()}),r.timeoutInMillis&&o.call(this,i,r.timeoutInMillis)}}}}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e){e.TRC=e.TRC||{},e.TRC.sharedObjects=e.TRC.sharedObjects||{},e.TRC.sharedObjects.loadedScripts=e.TRC.sharedObjects.loadedScripts||{},e.TRC.sharedObjects.loadedPixels=e.TRC.sharedObjects.loadedPixels||{}}(window),function(e,t,i){!function(){if("function"==typeof e.CustomEvent)return!1;function i(e,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var n=t.createEvent("CustomEvent");return n.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),n}i.prototype=e.Event.prototype,e.CustomEvent=i}(),i.eventUtils=i.eventUtils||{},i.eventUtils.dispatchEvent=i.eventUtils.dispatchEvent||function(e,t){"function"==typeof CustomEvent&&document.dispatchEvent(new CustomEvent(e,{detail:t||{}}))},i.eventUtils.safeAddEventListener=i.eventUtils.safeAddEventListener||function(e,t){document.addEventListener(e,function(e){try{t.call(this,e)}catch(e){}})},i.eventUtils.safeAddEventListenerToWindow=i.eventUtils.safeAddEventListenerToWindow||function(e,t){window.addEventListener(e,function(e){try{t.call(this,e)}catch(e){}})},i.eventUtils.getDateNow=i.eventUtils.getDateNow||function(){var e,t;if(Date.now){if("number"==typeof(e=Date.now()))return e;if("number"==typeof(t=Number(e)))return t}return(new Date).getTime()},i.eventUtils.hashString=i.eventUtils.hashString||function(e){var t=0;if(0==e.length)return t;for(var i=0;i<e.length;i++){var n;t=(t<<5)-t+e.charCodeAt(i),t&=t}return t},i.sharedEvents=i.sharedEvents||{PAGE_VIEW:"TRK_TFA_PAGE_VIEW",REQUEST_ID_CREATED:"TRK_TFA_REQUEST_ID_CREATED",REQUEST_ID_CREATION_TIMEOUT:"TRK_TFA_REQUEST_ID_CREATION_TIMEOUT",REQUEST_ID_CREATION_ERROR:"TRK_TFA_REQUEST_ID_CREATION_ERROR",REQUEST_ID_CREATION_JS_ERROR:"TRK_TFA_REQUEST_ID_CREATION_JS_ERROR",INVALID_TRK_RESPONSE:"TRK_TFA_INVALID_TRK_RESPONSE"},i.publisherIdType=i.publisherIdType||{NAME:"n",ID:"i"},i.pageViewInitiator=i.pageViewInitiator||{TRK:"trk",TFA:"tfa"}}(window,document,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t){e._tfa=e._tfa||[],e._tfa.config||(e._tfa.TfaConfig=function(){this.configMap={}},e._tfa.TfaConfig.prototype={safeGet:function e(t,i,n){var r,o,s;if(n&&this.configMap[n])r=""+n;else{if(!this.firstPublisherId)return i;r=this.firstPublisherId}try{return void 0===(s=(o=this.configMap[r])[t])?i:s}catch(e){return i}},hasValidConfig:function e(){return!!this.firstPublisherId},addConfig:function e(t,i){"string"==typeof i||i instanceof String||(this.firstPublisherId||(this.firstPublisherId=t),this.configMap[""+t]=i)}},e._tfa.config=new e._tfa.TfaConfig,e._taboola=e._taboola||[]),e._tfa.config.addConfig(1542326,{"tfa:event-host-map":{"pre_d_eng_tb": "trc-events.taboola.com"},"tfa:add-item-url:event-list":"*","tfa:trk:is-unified-page-view":true,"eid:send-eid-encoded":true,"tfa-uid:send-ids-to-cds":false,"cds:send-uad-req":true,"cds:send-dnid-req":true,"tfa:get-publisher-id-from-baker":true,"tfa:trk:flc-enabled":true,"tfa:engagement:return-visits:is-enabled":true,"tfa:collect-eid-from-page":false,"eid-enabled":"false","eid:tfa:common-eid-keywords":"help,support,contact,readme,test,info,reply,careers,spam,login,subscribe,feedback,reachus,customers,cookie,members","trc:user-history:conversion-incrementality-enable":false})}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t,i){"use strict";var n=e[i.jsScope],r={map:function e(t,i){if("function"==typeof Array.prototype.map)return i.map(t);for(var n=[],r=0;r<i.length;r++)n.push(t(i[r],r,i));return n},forEach:function e(t,i){if("function"==typeof Array.prototype.forEach)return i.forEach(t);for(var n=0;n<i.length;n++)t(i[n],n,i)},filter:function e(t,i){if("function"==typeof Array.prototype.filter)return i.filter(t);for(var n=[],r=0;r<i.length;r++)t(i[r],r,i)&&n.push(i[r]);return n},objKeys:Object.keys||(o=Object.prototype.hasOwnProperty,s=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=a.length,function(e){if("function"!=typeof e&&("object"!==_typeof(e)||null===e))throw new TypeError("Object.keys called on non-object");var t=[],i,n;for(i in e)o.call(e,i)&&t.push(i);if(s)for(n=0;n<c;n++)o.call(e,a[n])&&t.push(a[n]);return t})},o,s,a,c;i.networkMap&&"string"!=typeof i.networkMap||(i.networkMap={});var u=null,l=null,f=null,d=null,h={},g=0,p=!1,m="requestTimeoutHandle",v="requestId",S="requestStatus",b="trkRequestDone",I=5e3,y=2e3,T="init",E="pr",w="pud",R="tto",_="s",C="f",U="u",D=[R,C],O=[T,E,w],P=((G={})[n.publisherIdType.NAME]="name",G[n.publisherIdType.ID]="id",G),k=function(){for(var e={},t=r.objKeys(i.networkMap),o=0;o<t.length;++o){var s;e[""+i.networkMap[t[o]][P[n.publisherIdType.ID]]]=!0}return e}(),N="gk",A="dk",x="TRK_RELEASE_DELAYED_REQUESTS_EVENT",M=function(){var e={};return e[N]=A,e}(),V=new n.MessageDelayer(N,x),L=function e(t,i){K=K.loadTrc(i.publisherId,i.publisherIdType,i.config,i.requestData)},j={UNINITIALIZED:{loadTrc:function e(t,i,n,r){var o=De();return ie(t,i,n,r),o?j.USER_ID_SET:j.PENDING_USER_ID_SET}},PENDING_USER_ID_SET:{loadTrc:function e(t,i,n,r){return r[S]=w,V.delayMessage(A,{publisherId:t,publisherIdType:i,config:n,requestData:r},{successCallback:L}),j.PENDING_USER_ID_SET}},USER_ID_SET:{loadTrc:function e(t,i,n,r){return ie(t,i,n,r),j.USER_ID_SET}}},K=j.UNINITIALIZED,$=(e.taboola_view_id||(e.taboola_view_id=(new Date).getTime()),e.taboola_view_id),F,G,q=function e(){return!0===i.tfaContext},B=function e(){try{localStorage.setItem("taboolaStorageDetection","detect"),localStorage.removeItem("taboolaStorageDetection")}catch(e){return!1}return!0},H=function e(t,i,n){var r=t.split(i);return r.slice(0,n-1).concat(r.length>=n?r.slice(n-1).join(i):[])},W=function e(t){if(!t)throw new Error("Invalid URL!");this.href=t;var i=H(t,"#",2);return this.hash=i.length>1?"#"+i.pop():"",t=i[0],i=H(t,"?",2),this.search=i.length>1?"?"+i.pop():"",t=i[0],i=H(t,"://",2),this.protocol=i.length>1?i.shift()+":":"",t=i[0],i=H(t,"/",2),this.pathname=i.length>1?"/"+i.pop():"/",t=i[0],i=H(t,"@",2),this.auth=i.length>1?i.shift():"",t=i[0],i=H(t,":",2),this.port=i.length>1?parseInt(i.pop()):0,this.host=i[0],this},z={"http:":1,"https:":1};W.prototype.toString=function(e){return(this.host?this.protocol+"//"+(this.auth?this.auth+"@":"")+this.host+(this.port?":"+this.port:""):"")+this.pathname+this.search+(e?"":this.hash||"")},W.prototype.switchProtocol=function(e,t){var i=this instanceof W?this:new W(this),n;return z[e]&&(t&&"https:"===i.protocol||(i.protocol=e)),(n=i.toString(!1)).length>1?n:""},W.prototype.getParameter=function(e){for(var t,i=(this instanceof W?this:new W(this)).search.substr(1).split(/&/),n=0;n<i.length;n++){var r=i[n].split(new RegExp("="),2);if(unescape(r[0])===e)return unescape(r[1])}return null};var J={states:{ABP_DETECTION_DISABLED:-2,ABP_NOT_DETECTED:0,ABP_DETECTED:1},createBlockDetectionDiv:function e(i){var n=t.createElement("div");return n.className=i,n.style.fontSize="initial",n.appendChild(t.createTextNode(".")),t.documentElement.appendChild(n),n},isBlockDetectedOnDiv:function e(t){return!t.offsetHeight},isBlockDetectedOnClassNames:function e(i){var n,r=i.length,o;for(n=0;n<r;n++)if(i[n]){o=this.createBlockDetectionDiv(i[n]);try{if(this.isBlockDetectedOnDiv(o))return!0}catch(e){}finally{t.documentElement.removeChild(o)}}return!1},getBlockedState:function e(t){return be()||Ie()?this.states.ABP_NOT_DETECTED:t&&this.isBlockDetectedOnClassNames(t)?this.states.ABP_DETECTED:this.states.ABP_NOT_DETECTED}},Q=function e(t,i){for(var n=r.objKeys(t),o=0;o<n.length;o++){var s=n[o];i.push([s,t[s]])}},Y=function e(t){n[t.callbackName]=function(){},t.newScriptElement.parentNode.removeChild(t.newScriptElement),t.newScriptElement=null,delete t.newScriptElement},Z=function t(i){Y(i),i[S]=R,i.isMediaRequest||(e.TRC.trkRequestStatus=!1),K===j.PENDING_USER_ID_SET&&(K=j.UNINITIALIZED),i[b]?n.eventUtils.dispatchEvent(n.sharedEvents.INVALID_TRK_RESPONSE,{publisherId:i.publisherId}):n.eventUtils.dispatchEvent(n.sharedEvents.REQUEST_ID_CREATION_TIMEOUT,{publisherId:i.publisherId}),se()},X=function e(i,n,r,o){var s=t.getElementsByTagName("script")[0],a=t.createElement("script");return a.type="text/javascript",a.src=i,a.charset="UTF-8",r?a.setAttribute("defer","defer"):o&&a.setAttribute("async","async"),"function"==typeof n&&(a.addEventListener?(a.addEventListener("load",n,!1),a.addEventListener("error",n,!1)):a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||n.apply(a)}),s.parentNode.insertBefore(a,s),a},ee=function e(t,i,n,r){var o={publisherId:t,isMediaRequest:n.isMediaRequest,isUnifiedPageView:n.isUnifiedPageView,publisherIdType:i,callbackName:"trkCallback"+(0===g?"":g),metadata:r};return o[S]=T,h[t]||(h[t]=[]),h[t].push(o),++g,o},te=function e(t){return function(){Z(t)}},ie=function t(n,r,o,s){var a=i.rboxTrcProtocol+"//trc.taboola.com/"+n+"/trc/3/json?"+"tim="+(new Date).getTime()+"&"+"data="+encodeURIComponent(JSON.stringify(re(s)))+"&"+"pubit="+r,c=o.isMediaRequest?e._tfa.config.safeGet("tfa:trk:tracking-request-timeout",y,n):I;s[S]=E,s[m]=e.setTimeout(te(s),c),s.newScriptElement=X(a,function(){s[b]=!0})},ne=function e(t){return function(e){ae(t,e)}},re=function e(t){return n[t.callbackName]=ne(t),ge(t)},oe=function e(t){var i=h[t=""+t];return i&&i.length>0?i[i.length-1]:null},se=function e(){n.eventUtils.dispatchEvent(x,M)},ae=function t(r,o){if(e.clearTimeout(r[m]),o&&o.trc){if(o.trc.ui?(o.trc["DNT"]&&"TRUE"===o.trc["DNT"].toUpperCase()?localStorage.removeItem("taboola global:user-id"):o.trc["cm"]||localStorage.setItem("taboola global:user-id",o.trc["ui"]),K=j.USER_ID_SET):K=j.UNINITIALIZED,o.trc.sd&&!o.trc["cm"]&&localStorage.setItem(r.publisherId+":session-data",o.trc["sd"]),o.trc["vl"]&&o.trc["vl"].length){var s=o.trc["vl"][0].ri;r.isMediaRequest||(e.TRC.events_ri=s),r[v]=s,r[S]=_,n.eventUtils.dispatchEvent(n.sharedEvents.REQUEST_ID_CREATED,{publisherId:r.publisherId,requestId:s})}r.isMediaRequest&&n.trk.rboxNotLoaded()&&(o.trc.stp&&n.trk.loadPixels(o.trc.stp),o.trc.jst&&n.trk.loadScriptTags(o.trc.jst))}r[S]!==_&&(r[S]=C,n.eventUtils.dispatchEvent(n.sharedEvents.REQUEST_ID_CREATION_ERROR,{publisherId:r.publisherId})),r.isMediaRequest||(e.TRC.trkRequestStatus=!(D.indexOf(r[S])>=0)),e.TRC.alertVVResponseLoaded&&e.TRC.alertVVResponseLoaded(i.tblVersion),Y(r),se()},ce=function(){var e,t=function e(){try{return decodeURI(top.window.document.referrer)}catch(e){}return null},i=/https?:\/\/\w+\.taboola(?:syndication)?\.com/,n=function e(t){return i.test(t)?t.split("?")[0]:t.substr(0,400)},r,o=[function e(){for(var t=document.head.getElementsByTagName("link"),i=0;i<t.length;i++)if("referrer"===t[i].rel)return t[i].href;return null},function e(){var i=t();return i?n(i):null}],s=function e(){for(var e,t=0;!e&&t<o.length;t++)e=o[t].call(this);return e};return s.innerExtractReferrerFromTopMostReferrer=n,s}(),ue=function e(){var t=d;return t||(t=ce()),t},le=function e(t){var i;if(t){try{i=W.prototype.getParameter.call(window.location.href,"cnsntstr")}catch(e){}i&&(t.tcs=i,t.ga=!0,t.cmps=5),t.ad={sdkd:{os:"AMP",osv:1,sdkt:"Taboola AMP Driver",sdkv:"1"}}}},fe=function t(){if(F)return F;var i=400,n;return(F=e.location.search).length>i&&(n=F.substring(0,i-1),F=n.substring(0,n.lastIndexOf("&"))),F},de=function o(s,a){var c={},u=s.metadata,l=s.publisherId,f=e._tfa.config.safeGet("tfa:trk:should-send-media-data",!0,l),d=e._tfa.config.safeGet("tfa:trk:media-data-param-name","mpvd",l),h=e._tfa.config.safeGet("tfa:trk:page-view-payload-param-name","mpv",l),g=e._tfa.config.safeGet("tfa:trk:unified-page-view-param-name","supv",l),p;return r.forEach(function(e){var t=u[e];a.hasOwnProperty(e)&&t===a[e]||(c[e]=t)},r.objKeys(u)),a[h]=!0,s.isUnifiedPageView&&(a[g]=!0,c[g]=!0),f&&(a[d]=c),e._tfa.config.safeGet("tfa:trk:topics-enabled",!1,i.bakedPublisherId)&&t.browsingTopics&&(p=n.trk.readGoogleTopicsApiFromLocalStorage())&&(a.top=p),a},he=function t(n){var r=i.jsScope+"."+n.callbackName,o=J.getBlockedState(["banner_ad","sponsored_ad"]);return{id:~~(1e3*Math.random()),ii:ve(n),it:Ce(e._taboola),sd:Ue(n.publisherId),ui:De(),vi:$,cv:i.tblVersion,uiv:"default",u:Oe(),e:ue(),cb:r,qs:fe(),r:[{li:"rbox-tracking",s:0,uim:"rbox-tracking:pub="+i.bakedPublisherName+":abp="+o,uip:"rbox-tracking",orig_uip:"rbox-tracking"}]}},ge=function e(t){var i=he(t);return be()&&le(i),t.isMediaRequest&&(i=de(t,i)),i},pe=function e(t){for(var i=0;i<t.length;++i)for(var n=t[i],o=r.objKeys(n),s=0;s<o.length;++s){var a=o[s],c=n[a];if("unknown"!==c)switch("auto"===c&&(c=""),a){case"video":u=c;break;case"url":f=c;break;case"article":case"category":case"home":case"search":case"photo":case"other":case"content_hub":l=c;break;case"ref_url":d=c}}},me=function t(i){if(i){var r=n.trk.getPublisherRequestId(i);if(r)return r}return e.TRC.events_ri},ve=function e(t){var n=null;return u||""===u?n=u:(l||""===l)&&(n=l),(""===n||t.isMediaRequest)&&(n=Te("item-id",i.normalizeItemId,i.prenormalizeIdRules)),n},Se=function e(t,i,n){var o;if(!n)return i;r.forEach(function(e){var t=i.search(e);t>=0&&(i=i.substr(0,t))},n["truncate-at"]||[]);for(var s=new W(i),a=r.objKeys(n),c=0;c<a.length;++c){var u=a[c];if(n[u])switch(u){case"host":delete s.host;break;case"trailing-dirsep":for(;"/"===s.pathname.substr(s.pathname.length-1);)s.pathname=s.pathname.substr(0,s.pathname.length-1);break;case"query":var l=[],f=s.search.replace(/^\?/,"").split("&");"string"==typeof(o=n[u])&&(o=new RegExp(o));var d=o instanceof Array?function(e){for(var t=0;t<o.length;t++)if(e===o[t])return!0;return!1}:o instanceof RegExp?o.test.trcBind(o):function(){return!1};f.forEach(function(e){d(decodeURIComponent(e.split("=")[0]))&&l.push(e)}),s.search=(l.length?"?":"")+l.join("&");break;case"fragment":var h=s.hash.replace(/^#/,"");"string"==typeof(o=n[u])&&(o=new RegExp(o)),s.hash="",o instanceof RegExp&&o.test(h)?s.hash="#"+h:o instanceof Array&&o.forEach(function(e){h.search(e)>=0&&(s.hash="#"+h)})}}return s.pathname||(s.pathname="/"),"item-id"===t?s.toString().toLowerCase():s.toString()},be=function e(){return ye(ue(),"ampproject.net")},Ie=function e(){return ye(ue(),"instantarticles.fb.com")},ye=function e(t,i){try{return void 0!==t&&void 0!==i&&t.indexOf(i)>0}catch(e){return!1}},Te=function e(t,n,r){var o=["paramUrl","meta","canonical","og","location"],s={paramUrl:Ee,canonical:we,og:Re,location:_e},a=i.urlExtractOrder&&Array.isArray(i.urlExtractOrder)?i.urlExtractOrder:o,c=0,l,f,d,h="",g=function e(t,i){return Se.call(this,t,i,r)};for(a.push("location");c<a.length&&(!h||/^\s*$/.test(h));)f=a[c],h=(l=s[a[c]])?l.call(null,t,g):null,c++;return"item-url"===t&&f===Ee?h:(d=f!==_e,h="function"==typeof n?n.call(this,h,u?"video":"text",d):h)},Ee=function e(t,i){return!f||"item-id"!==t&&"item-url"!==t?null:i.call(this,t,n.trk.encodeItemUrlIfNeeded(f))},we=function e(i,r){for(var o=t.head.getElementsByTagName("link"),s=0;s<o.length;s++)if("canonical"===o[s].rel&&o[s].href)return r.call(this,i,n.trk.encodeItemUrlIfNeeded(o[s].href));return null},Re=function e(i,r){for(var o=t.head.getElementsByTagName("meta"),s=0;s<o.length;s++)if("og:url"===o[s].getAttribute("property")&&o[s].content.length>5)return r.call(this,i,n.trk.encodeItemUrlIfNeeded(o[s].content));return null},_e=function t(i,n){var o=function t(){var i=e.location,n=r.filter(function(e){return 0!==e.search("trc_")&&"taboola-debug"!==e},i.search.replace(/^\?/,"").split("&")).join("&");return i.origin+i.pathname+"?"+n};return n.call(this,i,o())},Ce=function e(t){try{var i=r.objKeys(t[0]);for(var n in i)switch(i[n]){case"home":return"home";case"category":return"category";case"text":case"article":return"text";case"search":return"search";case"photo":return"photo";case"other":return"other";case"content_hub":return"content_hub";case"video":default:return"video"}}catch(e){return"video"}},Ue=function e(t){return localStorage.getItem(t+":session-data")},De=function e(){return localStorage.getItem("taboola global:user-id")},Oe=function e(){return Te("item-url",i.normalizeItemUrl,i.prenormalizeUrlRules)},Pe=function e(t){for(var i,n=/^(.*\/libtrc\/.+\/)(?:(?:trk)|(?:tfa))\.js(?:\?(.*))?$/,r=0;r<t.length;r++)if(i=t[r].src.match(n))return i[1]},ke=function e(){for(var i=Pe(t.getElementsByTagName("script")),n=[{key:"?",index:0},{key:"://",index:1},{key:"//",index:1},{key:"/",index:0}],r=0,o=n.length,s=i,a;r<o;r++)s=(a=H(s,n[r].key,2)).length>1?a[n[r].index]:a[0];return s},Ne=function t(){if(!e.TRC.AdServerManager){var n=ke();e.TRC.VVReady=Ae,X("//"+n+"/libtrc/vv."+i.tblVersion+".js")}},Ae=function t(){e.TRC.adManager=new e.TRC.AdServerManager(i.vvConfig,i.tblVersion),e.TRC.adManager.startVV().then(function(){e.TRC.adManager.run()})},xe=function e(t,i){return t?t[i]:t},Me=function e(t,i,n){if(0===r.objKeys(n).length||k[""+t])return t;var o=document.createElement("a");o.href=f;var s=(o.host||location.host).toLowerCase(),a=(o.href||location.href).toLowerCase(),c=P[i],u=xe(n[s],c),l="/",d=["m","mobile","www2","www3"],h=[],g,p,m,v,S;if(!u){for(Q(n,h),h.sort(function(e,t){return e[0].length>t[0].length?-1:e[0].length<t[0].length?1:0}),g=0,p=h.length;g<p;g++)if((m=h[g][0].toLowerCase()).indexOf(l)>0){if(a.match(m)){u=xe(h[g][1],c);break}if(m.indexOf("www.")>-1&&a.match(m.replace("www.",""))){u=xe(h[g][1],c);break}}else if(s.match(m)){u=xe(h[g][1],c);break}if(!u&&s.indexOf("www.")<0){for(g=0,p=d.length;g<p&&(v=new RegExp("(https://|http://|^)"+d[g]+"."),S=s.replace(v,"www."),!(u=xe(n[S],c)));g++);u||(u=xe(n[S="www."+s],c))}}return u||"unknown-site-on-"+t},Ve=function e(t,i,n){var r=oe(t);return r?i.call(this,r[S]):n},Le=function e(t,i,r){var o,s,a=[];try{if(!Array.isArray(t))return;for(s=0;s<t.length;s++)(o=t[s])&&!i[o]&&(i[o]=!0,o=W.prototype.switchProtocol.call(o,n.trk.rboxTrcProtocol()),a.push(r(o)));return a}catch(e){}};e.TRC=e.TRC||{},e.TRC.trk=n.trk=e.TRC.trk||{init:function t(){e.TRC.utm&&!q()||(q()||p||(e.TRC._getGlobalRequestId=me,e.TRC._getItemId=ve,e.TRC._getItemType=Ce,p=!0),e.TRC.hasTrk?q()||n.trk.execute():e._tfa&&!e._tfa.config.hasValidConfig()||(n.hasTrk=!0,B()&&(n.eventUtils.safeAddEventListener(n.sharedEvents.PAGE_VIEW,function(t){try{var r=t.detail,o=r.publisherIdType,s=r.accountId,a=r.pageViewInitiator,c=r.isUnifiedPageView,u=a===n.pageViewInitiator.TFA,l=r.metadata,f,d;if(pe(e._taboola),u){if(e._tfa.config.safeGet("tfa:trk:prevent-concurrent-requests",!0,s)&&n.trk.isRequestProcessing(s))return;e._tfa.config.safeGet("tfa:trk:network-solution-enabled",!1,s)&&(s=Me(s,o,i.networkMap))}d=ee(s,o,f={pageViewInitiator:a,isMediaRequest:u,isUnifiedPageView:c},l),K=K.loadTrc(s,o,f,d)}catch(t){n.eventUtils.dispatchEvent(n.sharedEvents.REQUEST_ID_CREATION_JS_ERROR,{publisherId:s})}}),q()||n.trk.execute(),i.enableVV&&Ne(),q()&&e._tfa.config.safeGet("tfa:trk:topics-enabled",!1,i.bakedPublisherId)&&this.saveGoogleTopicsApiInLocalStorage())))},execute:function t(){var r=n.publisherIdType.NAME,o=Me(i.bakedPublisherName,r,i.networkMap);n.eventUtils.dispatchEvent(n.sharedEvents.PAGE_VIEW,{accountId:o,publisherIdType:r,pageViewInitiator:n.pageViewInitiator.TRK}),e.TRC.publisherId=e.TRC.publisherId||o},getRequestStatus:function e(t){var i=oe(t);return i?i[S]:U},isRequestProcessing:function e(t){return Ve(t,function(e){return O.indexOf(e)>-1},!1)},hasRequestEnded:function e(t){return Ve(t,function(e){return D.indexOf(e)>-1||!(O.indexOf(e)>-1)},!1)},getPublisherRequestId:function e(t){var i=oe(t);return i&&i[S]===_?i[v]:null},getPublisherSessionData:function e(t){var i=Ue(t);return i||null},getViewId:function e(){return $},getReferrer:ce,loadPixels:function t(i){try{return Le(i,e.TRC.sharedObjects.loadedPixels,function(e){var t=new Image;return t.src=e,t})}catch(e){}},loadScriptTags:function t(i){try{return Le(i,e.TRC.sharedObjects.loadedScripts,function(e){return X(e,null,null,!0)})}catch(e){}},rboxNotLoaded:function t(){return!(e.TRC&&e.TRC.utm)},rboxTrcProtocol:function e(){return i.rboxTrcProtocol},saveGoogleTopicsApiInLocalStorage:function e(){try{if(!t.browsingTopics)return;return t.browsingTopics().then(function(e){for(var t=[],i=0;i<e.length;i++)if(e[i].topic&&e[i].taxonomyVersion){var n={i:e[i].topic,v:e[i].taxonomyVersion};t.push(n)}localStorage.setItem("taboola global:top",JSON.stringify(t))}).catch(function(){})}catch(e){}},readGoogleTopicsApiFromLocalStorage:function e(){var t,i;try{if((i=(t=localStorage.getItem("taboola global:top"))?JSON.parse(t):null)&&i.length>0)return i}catch(e){}},hasSuperUTFSeq:function e(t){for(var i=t.split("").map(function(e){return e.charCodeAt(0)}),r=0,o=0;o<i.length;o++){if(n.trk.isSuperUTF(i[o])||(r=0),r>=3)return!0;r++}return!1},isSuperUTF:function e(t){var i;return t>1200},encodeItemUrlIfNeeded:function e(t){try{if(n.trk.hasSuperUTFSeq(t))return encodeURI(t)}catch(e){}return t}},q()&&!e._tfa.config.safeGet("tfa:trk:enabled",!0,i.bakedPublisherId)||n.trk.init()}(window,document,{bakedPublisherId:1542326,bakedPublisherName:'bloomberg-keplergroup-network',tblVersion:"20230702-3-RELEASE",normalizeItemId:function(itemid,type,canon){if(!canon&&type=='text'&&typeof itemid=='string'&&itemid.search(new RegExp('^https?://'))==0)itemid=itemid.replace(/\?.*/,'', false);return itemid.toLowerCase();},prenormalizeIdRules:{"host":true,"fragment":"^(/video/|!)","query":["p","id"],"truncate-at":["search.searchcompletion.com","org.mozilla.javascript.undefined"],"trailing-dirsep":true},prenormalizeUrlRules:false,normalizeItemUrl:function(itemurl,type,canon){return itemurl;},urlExtractOrder:null,networkMap:{},vvConfig:null,enableVV:false,rboxTrcProtocol:'https:',tfaContext:true,jsScope:'TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC'}),function(e,t){e._tfa=e._tfa||[],t.useStorageDetection=e.TRC.useStorageDetection=e.TRC.useStorageDetection||!0,t.text=t.text||{},t.text.lsplit=t.text.lsplit||function(e,t,i){var n=e.split(t);return n.slice(0,i-1).concat(n.length>=i?n.slice(i-1).join(t):[])},t.tfaUtil=t.tfaUtil||{},t.tfaUtil.safeAddParam=t.tfaUtil.safeAddParam||function(e,t,i){var n,r;i&&t&&e&&(n=encodeURIComponent(e),r=encodeURIComponent(t),i.push(n+"="+r))},t.tfaUtil.getParameterByName=t.tfaUtil.getParameterByName||function(e,t){if(!t||!e)return null;e=e.replace(/[\[\]]/g,"\\$&");var i,n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};var i=e.TRCImpl=e.TRCImpl||{};i.global=i.global||{},e.__trcError=e.__trcError||function e(){}}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t){var i="taboola global",n="trctestcookie";function r(){for(var e="trc_cookie_storage",i=new Object,n=document.cookie.split(/;\s+/),r=0;r<n.length;r++){var o=t.text.lsplit(n[r],"=",2),s=unescape(o[0]),a=unescape(o[1]);if(s==e){for(var c=a.split("|"),u=0;u<c.length;u++){var o=c[u].split("=");i[unescape(o[0])]=unescape(o[1])}break}}function l(){var t=new Array,n,r;for(var o in i)i.hasOwnProperty(o)&&null!=i[o]&&(t[t.length]=escape(o)+"="+escape(i[o]));n=t.length>0?1:-1,r=new Date((new Date).getTime()+365*n*864e5),document.cookie=e+"="+escape(t.join("|"))+";path=/;expires="+r.toUTCString()}return this.getValue=function(e){return i.hasOwnProperty(e)?i[e]:null},this.setValue=function(e,t){i[e]=t,l()},this.removeKey=function(e){delete i[e],l()},this}function o(e){var t=e||{};return this.getValue=function(e){return t[e]?t[e]:null},this.setValue=function(e,i){t[e]=i},this.removeKey=function(e){delete t[e]},this.getData=function(){return t},this}function s(t){return this.getValue=function(i){return e[t+"Storage"].getItem(i)},this.setValue=function(i,n){try{e[t+"Storage"].setItem(i,n)}catch(e){}},this.removeKey=function(i){try{e[t+"Storage"].removeItem(i)}catch(e){}},this}function a(t){var i=e[t+"Storage"],n=(new Date).getTime()+"",r="_taboolaStorageDetection";try{if(i.setItem(r,n),i.getItem(r)==n)return i.removeItem(r),i}catch(e){}return null}function c(i){try{if(e.localStorage instanceof Storage&&t.useStorageDetection&&a(i))return new s(i)}catch(e){return null}}var u=function n(){return this.state={},this.getLocalStorageImplementation=function(t,i){if(null!=this.state.privateStorageImpl&&"strict-w3c-storage"!=t)return this.state.privateStorageImpl;var n=e.TRCImpl?e.TRCImpl.global:{};switch(t=t||(n["local-storage-usage"]?n["local-storage-usage"]:"prefer-w3c-storage")){case"strict-w3c-storage":return c("session"===i?"session":"local");case"prefer-w3c-storage":var s=c("local");if(s)return this.state.privateStorageImpl=s;case"prefer-cookies":try{if(this.canWriteCookies())return this.state.privateStorageImpl=new r}catch(e){}default:return this.state.privateStorageImpl=new o}},this.getFirstPartyCookie=function(){if(this.state.firstPartyCookie)return this.state.firstPartyCookie;var e=this.getLocalStorageImplementation();if(e instanceof r||e instanceof o)return this.state.firstPartyCookie=e;try{if(this.canWriteCookies())return this.state.firstPartyCookie=new r}catch(e){}return this.state.firstPartyCookie=new o},this.canWriteCookies=function(){return e.navigator.cookieEnabled},this.getDummyStorage=function(e){return new o(e)},this.getValue=function(e){return this.getPublisherValue(i,e)},this.storePublisherValue=function(e,t,i){var n;this.isNotAllowedToWriteValue(t,i)||(n=this.buildKeyWithPublisher(e,t),this.getLocalStorageImplementation().setValue(n,i),this.addKeyToStoredKeysList(n))},this.isNotAllowedToWriteValue=function(e,i){return null==i||void 0==i||t.doNotTrack&&!this.isAllowedKeyWhenDoNotTrack(e)},this.buildKeyWithPublisher=function(e,t){return e+":"+t},this.getPublisherValue=function(e,i){return t.doNotTrack&&!this.isAllowedKeyWhenDoNotTrack(i)?null:this.getLocalStorageImplementation().getValue(this.buildKeyWithPublisher(e,i))},this.addKeyToStoredKeysList=function(e){var t=this.getStoredKeysList();-1===t.indexOf(e)&&(t.push(e),this.setStoredKeysList(t))},this.getStoredKeysList=function(){var e=this.buildKeyWithPublisher(i,"local-storage-keys"),t=this.getLocalStorageImplementation().getValue(e),n=[];try{n=JSON.parse(t)||[]}catch(e){__trcError("Could not parse local storage keys",e)}return n},this.setStoredKeysList=function(e){var t,n;try{t=JSON.stringify(e),n=this.buildKeyWithPublisher(i,"local-storage-keys"),this.getLocalStorageImplementation().setValue(n,t)}catch(e){__trcError("Could not stringify local storage keys",e)}},this.isAllowedKeyWhenDoNotTrack=function(t){var i,n=(e.TRCImpl&&e.TRCImpl.global||{})["dnt-allowed-keys"]||["session-id"],r;return null!==t&&void 0!==t&&(r=t.split(":")[1]||t,-1!==n.indexOf(r))},this.storeUserId=function(e){this.isNotAllowedToWriteValue("user-id",e)||this.storePublisherValue(i,"user-id",e)},this.getUserIdFirstPartyCookie=function(){return this.getFirstPartyCookie().getValue(this.buildKeyWithPublisher(i,"user-id"))},this.getSessionDataFirstPartyCookie=function(){return this.getFirstPartyCookie().getValue(this.buildKeyWithPublisher(i,"session-data"))},this.initState=function(){void 0===this.state&&(this.state={}),this.state.privateStorageImpl=null},this.initState(),this};t.tfaPageManager=t.tfaPageManager||new u,t.tfaPageManager.TABOOLA_GLOBAL_KEY=i}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t,i){var n=i.tfaPageManager,r="https://",o="tblci",s="TABOOLA-DO-NOT-TRACK",a="#"+o;function c(e,t){e&&t&&(t[e]=!0)}function u(e,t,i){for(var n={},r=0;r<arguments.length;r++)c(arguments[r],n);return Object.keys(n).length>1}i.tfaUserId={initialized:!1,userId:null,clickId:null,getUserId:function e(){return this.userId},getClickId:function e(){return this.clickId},getHttpsPrefix:function e(){return r},sendUserIdsToTrc:function t(n,r,o,s){var a,c='https:',l=[];if(u(n,r,o))return i.tfaUtil.safeAddParam("uiref",n,l),i.tfaUtil.safeAddParam("uils",r,l),i.tfaUtil.safeAddParam("uifpc",o,l),i.tfaUtil.safeAddParam("tblci",s,l),a=new Image,e._tfa.config.safeGet("tfa:add-referrer-policy-when-firing-pixel",!0)&&(a.referrerPolicy="no-referrer-when-downgrade"),a.src=c+"//trc.taboola.com/sg/taboola-tfa/1/um/?"+l.join("&"),a},isUserCanBeTracked:function t(i){return!i||!e._tfa.config.safeGet("tfa-uid:filter-do-not-track",!0)||-1===i.indexOf(s)},readAndStoreUserId:function e(){var t=this.extractUserIdFromReferrer(),i=n.getValue("user-id"),r=n.getUserIdFirstPartyCookie();this.isUserCanBeTracked(t)||(t=void 0),this.isUserCanBeTracked(i)||(i=void 0),this.isUserCanBeTracked(r)||(r=void 0),this.sendUserIdsToTrc(t,i,r,this.getClickId()),t&&(n.storeUserId(t),r&&n.getFirstPartyCookie().setValue(n.TABOOLA_GLOBAL_KEY+":"+"user-id",t)),this.userId=t||i||r},readAndStoreClickIdParam:function e(){var t=this.extractClickIdFromUrl(this.getWindowLocation().toString())||this.extractClickIdFromUrl(this.getReferrer()),i=n.getValue(o);t&&n.storePublisherValue(n.TABOOLA_GLOBAL_KEY,o,t),this.clickId=t||i},extractUserIdFromReferrer:function e(){var t=this.getReferrer();if(t&&t.indexOf("taboola")>-1)return i.tfaUtil.getParameterByName("ui",t)},extractClickIdFromUrl:function e(t){if(t){var n=t.length>1&&-1!==t.indexOf("#")?t.substring(t.indexOf("#")):"",r;if(r=i.tfaUtil.getParameterByName(o,t))return r;if(n&&n.length>a.length&&0===n.indexOf(a))return n.substr(a.length)}},getWindowLocation:function t(){return e.location},getReferrer:function e(){return t.referrer},init:function e(){this.initialized||(this.readAndStoreUserId(),this.readAndStoreClickIdParam(),this.initialized=!0)}},i.tfaUserId.init(),i.tfaUserId.CLICK_ID_KEY=o}(window,document,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t){var i="_tfa",n=e[i]=e[i]||[],r,o,s,a,c=6*60*60*1e3,u="eng_mt",l="crossSessionsData",f=36,d;function h(e,t,i){var n=this.getTimeLeftForSession(e,this.getSessionDuration(),t);n<0&&(n=0),setTimeout(function(){i()},n)}function g(e){return e.ver&&e.ver===this.getDataVersion()}var p=function e(){};p.prototype={constructor:p,init:function e(i){if(d=n.config.safeGet("tfa:engagement:session-duration-in-milliseconds",c),!this.isInitialized()){var r=t.eventUtils.getDateNow(),o=this.getSessionDataFromStorage();if(this.getIsLocalStorageAvailable())return s=o&&o.sessionStartTime,h.call(this,o,r,i),s&&!this.isSessionInvalid(o)||(s=r,this.persistDefaultValues(s)),a=!0,this}},getStorageKey:function e(){return u},getCrossSessionsData:function e(t){var i=t&&t.getValue(this.getStorageKey()),n=i&&JSON.parse(i);return n&&n[l]},resetStorageMetricData:function e(){var i=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage"),n=this.getCrossSessionsData(i),r={crossSessionsData:n};i.setValue(this.getStorageKey(),n?JSON.stringify(r):"")},hasOnlyCrossSessionData:function e(t,i){return t&&1===t.length&&i.hasOwnProperty(l)},isSessionInvalid:function e(t){if(!t)return!0;var i=Object.keys(t);return this.hasOnlyCrossSessionData(i,t)},getSessionDataFromStorage:function e(){var i,n;i=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage"),o=!!i;var r=i&&i.getValue(this.getStorageKey());if(n=r&&JSON.parse(r))return this.isSessionInvalid(n)?n:!g.call(this,n)||this.hasSessionEnded()?(this.resetStorageMetricData(),n):n},hasSessionEnded:function e(){return!!a&&(!s||t.eventUtils.getDateNow()-s>this.getSessionDuration())},persistDefaultValues:function e(i){var n=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");if(n){var r={ver:f,sessionStartTime:i,scrollDepth:0,sessionDepth:[],timeOnSite:0},o=this.getCrossSessionsData(n);o&&(r[l]=o),n.setValue(this.getStorageKey(),JSON.stringify(r))}},persistSpecificMetricsData:function e(i,n){var r=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage"),o;r&&i&&(o=this.getSessionDataFromStorage())&&(o[i]=n,r.setValue(this.getStorageKey(),JSON.stringify(o)))},getCrossSessionsDataKey:function e(){return l},getSessionDuration:function e(){return d},getDataVersion:function e(){return f},getIsLocalStorageAvailable:function e(){return o},getSessionStartTime:function e(){return s},getTimeLeftForSession:function e(t,i,n){return t&&s?s+i-n:i},isInitialized:function e(){return a}},(r=n.TEM=n.TEM||{}).ESU=r.ESU||new p}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t){var i="_tfa",n;function r(e,t){this.storageUtils.persistSpecificMetricsData(e,t)}var o=function e(){};o.prototype={constructor:o,init:function e(t,i,n){this.isValid=t&&i&&n,this.storageUtils=t,this.visibilityListener=n,this.refreshFromStorage(),this.initLastVisibleStartTime(),this.visibilityListener.subscribeToEvent(this.handleVisibilityChange.bind(this)),i.subscribeToEvent(this.handleStorageChange.bind(this))},getStorageKey:function e(){return"timeOnSite"},initLastVisibleStartTime:function e(){this.isValid&&(this.lastVisibleStartTime=t.eventUtils.getDateNow())},refreshFromStorage:function e(){if(this.isValid){var t=this.storageUtils.getSessionDataFromStorage(),i=0;t&&t[this.getStorageKey()]&&(i=t[this.getStorageKey()]||0),this.timeOnSite=i}},calcTimeOnSite:function e(){if(this.isValid)return this.lastVisibleStartTime?this.timeOnSite+(t.eventUtils.getDateNow()-this.lastVisibleStartTime):this.timeOnSite},handleVisibilityChange:function e(){this.isValid&&(this.visibilityListener.getIsPageHidden()?(this.timeOnSite=this.calcTimeOnSite(),r.call(this,this.getStorageKey(),this.timeOnSite)):this.lastVisibleStartTime=t.eventUtils.getDateNow())},handleStorageChange:function e(){this.refreshFromStorage()},getTimeOnSite:function e(){if(this.isValid)return this.visibilityListener.getIsPageHidden()?this.timeOnSite:this.calcTimeOnSite()}},(n=e[i]=e[i]||[]).TEM=n.TEM||{},n.TEM.TOS=n.TEM.TOS||new o}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(){var e="_tfa",t,i=!1,n;function r(){return void 0==document.body||void 0==document.documentElement?0:(i=!0,Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-document.documentElement.clientHeight);var e}function o(e,t){this.storageUtils.persistSpecificMetricsData(e,t)}function s(e,t){var i;return function(){var n=this,r=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(n,r)},t)}}var a=function e(){};a.prototype={constructor:a,init:function e(t,i){this.storageUtils=t||{},i.subscribeToEvent(this.handleStorageChange.bind(this)),this.refreshFromStorage(),this.initEventListeners(),this.updateMeasurements(),this.calcMaxScrollPercentage()},getStorageKey:function e(){return"scrollDepth"},getScrollDepth:function e(){return i||this.calcMaxScrollPercentage(),this.maxScrollPercentage},getMaxScrollableAmount:function e(){return i||(this.maxScrollableAmount=r()),this.maxScrollableAmount},initEventListeners:function e(){window.addEventListener("resize",s(this.onResize.bind(this),100)),window.addEventListener("scroll",s(this.onScroll.bind(this),50))},refreshFromStorage:function e(){var t=this.storageUtils.getSessionDataFromStorage(),i=0;t&&t[this.getStorageKey()]&&(i=t[this.getStorageKey()]||0),this.maxScrollPercentage=i},onResize:function e(){this.updateMeasurements()},onScroll:function e(){this.calcMaxScrollPercentage()},updateMeasurements:function e(){this.winHeight=window.innerHeight,this.maxScrollableAmount=r()},calcMaxScrollPercentage:function e(){this.updateMeasurements();var t=0===this.maxScrollableAmount?0:Math.floor(window.pageYOffset/this.maxScrollableAmount*100);t>this.maxScrollPercentage&&(this.maxScrollPercentage=t,o.call(this,this.getStorageKey(),this.maxScrollPercentage))},handleStorageChange:function e(){this.refreshFromStorage()}},(n=(t=window[e]=window[e]||[]).TEM=t.TEM||{}).SCD=n.SCD||new a}(),function(e,t){var i,n,r=e["_tfa"].TEM,o=function e(){};o.prototype={constructor:o,init:function e(i,n,r){this.storageUtils=i,this.refreshFromStorage(),t.eventUtils.safeAddEventListener(r,this.handleUnipPageView.bind(this)),n.subscribeToEvent(this.handleStorageChange.bind(this))},getKey:function e(){return"ssd"},getStorageKey:function e(){return"sessionDepth"},setState:function e(t){this.visitedUrls={};for(var i=0;i<t.length;i++)this.visitedUrls[t[i]]=!0},getState:function e(){return this.visitedUrls?Object.keys(this.visitedUrls):[]},getMetric:function e(){return this.getState().length},persistState:function e(){var t=this.getState();this.storageUtils.persistSpecificMetricsData(this.getStorageKey(),t)},refreshFromStorage:function e(){var t=this.storageUtils.getSessionDataFromStorage(),i=[];t&&t[this.getStorageKey()]&&(i=t[this.getStorageKey()]||[]),this.setState(i)},handleUnipPageView:function e(){try{var i=t.eventUtils.hashString(window.location.href);this.visitedUrls[i]||(this.visitedUrls[i]=!0,this.persistState())}catch(e){}},handleStorageChange:function e(){this.refreshFromStorage()},isURLVisited:function e(t){return this.visitedUrls&&this.visitedUrls[t]}},r.SSD=r.SSD||new o}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e){var t,i=e["_tfa"]||[],n=i.TEM||{},r=30*24*60*60*1e3,o=10,s="tfa:engagement:session-history-timeframe-in-milliseconds",a="tfa:engagement:session-history-limit",c="sessionsHistory",u,l,f=function e(){};f.prototype={init:function e(t){u=i.config.safeGet(a,o),l=i.config.safeGet(s,r),this.storageUtils=t,this.updateCrossSessionsData(this.storageUtils.getSessionStartTime())},updateCrossSessionsData:function e(t){var i=this.updateData(t);return this.storageUtils.persistSpecificMetricsData(this.storageUtils.getCrossSessionsDataKey(),i),i},updateData:function e(t){var i=this.getCrossSessionsDataFromStorage()||{};return i[c]=this.getSessionsHistory(t),i},resetCrossSessionsData:function e(){this.storageUtils.persistSpecificMetricsData(this.storageUtils.getCrossSessionsDataKey(),"")},getCrossSessionsDataFromStorage:function e(){var t=this.storageUtils.getSessionDataFromStorage();return t&&t[this.storageUtils.getCrossSessionsDataKey()]},getFilteredSessionsHistory:function e(t,i){var n=t?this.removeOldSessions(t,i):[];if(!n.indexOf(i)>-1&&!this.isInPreviousSession(n,i)){for(;n.length>u-1;)n.shift();n.push(i)}return n},removeOldSessions:function e(t,i){for(var n=[],r=0;r<t.length;r++)this.isSessionOld(t[r],i)||n.push(t[r]);return n},isSessionOld:function e(t,i){return i-l>t},getSessionsHistory:function e(t){var i=this.getCrossSessionsDataFromStorage(),n=i?i[c]:[];return this.getFilteredSessionsHistory(n,t)},isInPreviousSession:function e(t,i){return!(!Array.isArray(t)||!t.length)&&i-t[t.length-1]<this.storageUtils.getSessionDuration();var n,r}},n.crossSessionsUtils=n.crossSessionsUtils||new f}(window),function(e){var t,i=e["_tfa"]||[],n=i.TEM||{},r="tfa:engagement:return-visits:is-enabled",o,s=function e(){};s.prototype={init:function e(t,n,s){(o=i.config.safeGet(r,!1))&&(this.storageUtils=t,this.crossSessionsUtils=s,this.refreshSessionsHistoryFromLocalStorage(),n.subscribeToEvent(this.handleStorageChange.bind(this)))},setState:function e(t){this.sessionsHistory=[];for(var i=0;i<t.length;i++)this.sessionsHistory.push(t[i])},addReturnVisits:function e(t){if(t){if(o){var i=this.getReturnVisits();t.rv=i&&i.length}return t}},getReturnVisits:function e(){var t=this.sessionsHistory;return Array.isArray(t)&&t.length?t:[]},refreshSessionsHistoryFromLocalStorage:function e(){var t=this.storageUtils?this.storageUtils.getSessionStartTime():[],i=this.crossSessionsUtils&&this.crossSessionsUtils.getSessionsHistory(t);this.setState(i)},handleStorageChange:function e(){this.refreshSessionsHistoryFromLocalStorage()}},n.returnVisits=n.returnVisits||new s}(window),function(e,t){var i="_tfa",n,r=function e(){};r.prototype={constructor:r,init:function e(){this.runningId=0,this.subscribers={},this.setVisibilityProperties(),this.initMetricData(),this.initListener()},initMetricData:function e(){this.isPageHidden=document[this.hiddenProp]},initListener:function e(){t.eventUtils.safeAddEventListener(this.visibilityChangeEventName,this.handleVisibilityChange.bind(this))},setVisibilityProperties:function e(){void 0!==document.hidden?(this.hiddenProp="hidden",this.visibilityChangeEventName="visibilitychange"):void 0!==document.msHidden?(this.hiddenProp="msHidden",this.visibilityChangeEventName="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hiddenProp="webkitHidden",this.visibilityChangeEventName="webkitvisibilitychange")},handleVisibilityChange:function e(){this.isPageHidden=document[this.hiddenProp],this.notify()},getIsPageHidden:function e(){return this.isPageHidden},subscribeToEvent:function e(t){var i=this.runningId++;return this.subscribers[i]=t,function(){delete this.subscribers[i]}.bind(this)},notify:function e(){Object.keys(this.subscribers).forEach(function(e){this.subscribers[e]()}.bind(this))}},(n=e[i]=e[i]||[]).TEM=n.TEM||{},n.TEM.visibilityListener=n.TEM.visibilityListener||new r}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t){var i="_tfa",n,r=function e(){};r.prototype={constructor:r,init:function e(t){this.runningId=0,this.subscribers={},this.storageUtils=t,this.initListener()},initListener:function e(){t.eventUtils.safeAddEventListenerToWindow("storage",this.handleStorageChange.bind(this))},handleStorageChange:function e(t){t&&t.key===this.storageUtils.getStorageKey()&&this.notify(t)},subscribeToEvent:function e(t){var i=this.runningId++;return this.subscribers[i]=t,function(){delete this.subscribers[i]}.bind(this)},notify:function e(t){Object.keys(this.subscribers).forEach(function(e){this.subscribers[e](t)}.bind(this))}},(n=e[i]=e[i]||[]).TEM=n.TEM||{},n.TEM.storageListener=n.TEM.storageListener||new r}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t){var i="_tfa",n=e[i]=e[i]||[],r,o=n.TEM=n.TEM||{},s=o.ESU||{},a=o.SCD||{},c=o.SSD||{},u=o.TOS||{},l=o.returnVisits||{},f=o.crossSessionsUtils||{},d=o.visibilityListener||{},h=o.storageListener||{},g=1500,p=50,m=3e4,v="numOfTimesMetricsSent",S="pre_d_eng_tb",b={SESSION_END:"SESSION_END"},I,y,T=!1,E=Date.now();function w(e,t){var i=u.getTimeOnSite(),n=a.getScrollDepth(),r=c.getMetric(),o={notify:"event",name:S,tos:i,scd:n,ssd:r,est:s.getSessionStartTime(),ver:s.getDataVersion(),isls:s.getIsLocalStorageAvailable(),src:e,invt:t,msa:"function"==typeof a.getMaxScrollableAmount?a.getMaxScrollableAmount():void 0};return o=l.addReturnVisits(o)}function R(e,t){var i=w(e,t);i.est&&(r.pageViewAccountIds?_(r.pageViewAccountIds,i):C(i))}function _(e,t){var i=Object.keys(e);i.length>0?i.forEach(function(i){t.id=e[i],C(t)}):C(t)}function C(e){r.push(e)}function U(){D(),s.resetStorageMetricData()}function D(){clearTimeout(y)}function O(e){(isNaN(I)||I<0)&&(I=0),s.hasSessionEnded()||(I++,s.persistSpecificMetricsData(v,I),P()||o.sendMetrics("i",e),k())}function P(){return u.getTimeOnSite()>5*60*1e3&&c.getMetric()>5}function k(){if(clearTimeout(y),T&&!d.getIsPageHidden()){var e=g*Math.pow(2,I);e!==1/0&&(y=setTimeout(O,e,e))}}function N(){A(),k()}function A(){var e=s.getSessionDataFromStorage();I=e&&e[v]&&e[v]||0}function x(){h.subscribeToEvent(V.bind(this)),d.subscribeToEvent(M.bind(this))}function M(){d.getIsPageHidden()?D():k()}function V(e){function t(e){var t=JSON.parse(e.newValue),r=JSON.parse(e.oldValue);return!i(t,r)&&!n(t,r)}function i(e,t){return e.sessionDepth.length!==t.sessionDepth.length}function n(e,t){return e.timeOnSite!==t.timeOnSite}A(),e&&T&&!d.getIsPageHidden()&&t(e)&&(T=!1,D(),L(p,m,N,D))}function L(e,t,i,n){var r=!1;function o(e){if(window.top!==window){var t=window.parent;for(t.postMessage(e,"*");t!==t.parent;)(t=t.parent).postMessage(e,"*")}function i(t){try{for(var n=0;n<t.frames.length;n++){var r=t.frames[n];r!==window&&(r.postMessage(e,"*"),i(r))}}catch(e){}}i(window.top),window.parent!==window&&i(window)}function s(){o({type:"TARP",query:!1,t:E})}function a(){r=!1,o({type:"TARP",query:!0}),setTimeout(function(){r?setTimeout(t,a):T||(T=!0,i(),s())},e)}T=!1,window.addEventListener("message",function(e){var o=e.data;"TARP"===o.type&&e.source!==window&&(T?o.query?s():o.t<E?(T=!1,r=!0,n(),setTimeout(t,a)):s():o.query||(o.t<E?r=!0:(T=!0,i(),s())))}),a()}function j(){o.initialized||n.config.safeGet("tfa:engagement:is-manager-disabled",!1,1542326)||(r=n.TUP||{},o.initialized=!0,o.ESU.init(U),d.init(),h.init(s),x(),o.ESU.getIsLocalStorageAvailable()&&(f.init(s),u.init(s,h,d),a.init(s,h),c.init(s,h,t.sharedEvents.PAGE_VIEW),l.init(s,h,f),o.initIntervalTrigger()),L(p,m,N,D))}o.init=o.init||j,o.onSessionEndTrigger=o.onSessionEndTrigger||U,o.sendMetrics=o.sendMetrics||R,o.initIntervalTrigger=o.initIntervalTrigger||N,o.EVENTS=o.EVENTS||b}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t){var i="_tfa",n=e[i]=e[i]||[],r="taboola global:last-external-referrer",o="taboola",s="other",a=["taboola","taboolanews","taboolasyndication"];t.lastExternalReferrer={init:function e(){n.config.safeGet("tfa:last-external-referrer:is-disabled",!1,1542326)||this.extractExternalReferrerIfExistsAndStoreLocally()},extractExternalReferrerIfExistsAndStoreLocally:function t(){var i=this.extractExternalReferrer(e);i&&this.saveExternalReferrerToLocalStorage(i)},extractExternalReferrer:function e(i){var n=i.location.href,r=this.getExternalReferrer(i);return this.isExternalReferrerTaboola(n,r)?o:r||t.tfaUtil.getParameterByName("utm_source",n)||t.tfaUtil.getParameterByName("gclid",n)||t.tfaUtil.getParameterByName("fbclid",n)||t.tfaUtil.getParameterByName("dicbo",n)||t.tfaUtil.getParameterByName("dclid",n)?s:""},isExternalReferrerTaboola:function e(i,n){if(t.tfaUtil.getParameterByName("tblci",i))return!0;var r=t.tfaUtil.getParameterByName("utm_source",i);if(r&&"taboola"===r.toLowerCase())return!0;if(n)for(var o=n.split("/")[2],s=0;s<a.length;s++){var c,u;if(new RegExp("(^|.+\\.)"+a[s]+"\\.com.*").exec(o))return!0}return!1},getExternalReferrer:function e(t){var i=t.document.referrer,n,r;if(i&&t.location.hostname!==i.split("/")[2])return i;return""},saveExternalReferrerToLocalStorage:function e(i){var n=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");n&&n.setValue(r,i)},getLastExternalReferrer:function i(){var n=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");return n?n.getValue(r):this.extractExternalReferrer(e)}},t.lastExternalReferrer.init()}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']),function(e,t,i){var n=t.tfaPageManager||{},r="_tfa",o=window[r]=window[r]||[],s=o.TEM||{},a={event:te,subscription:ne},c=/(\S+)taboola(\S+|)\.com\/libtrc\/unip\/(\S+)\/tfa\.js(\S+|)/,u="script[src$='tfa.js']",l="//",f="page_view",d=["notify","id"],h={name:"en",url:"item-url",referrer:"ref",timestamp:"tim"},g=-1,p={protocol:'https:',host:"trc.taboola.com",httpMethod:"get",loggerEventName:"unip",logToConsole:!0},m={EMPTY_COMMAND:"EMPTY_COMMAND",MISSING_NOTIFY:"MISSING_NOTIFY",INVALID_NOTIFY:"INVALID_NOTIFY",MISSING_NAME:"MISSING_NAME",INVALID_ID:"INVALID_ID"},v={TFA_VALIDATION_ERROR:"TFA_VALIDATION_ERROR"},S=((E={})[f]=oe,E),b=function(){var e={};return e[t.sharedEvents.REQUEST_ID_CREATION_TIMEOUT]="to",e[t.sharedEvents.REQUEST_ID_CREATION_ERROR]="err",e[t.sharedEvents.REQUEST_ID_CREATION_JS_ERROR]="jserr",e[t.sharedEvents.INVALID_TRK_RESPONSE]="itrkr",e}(),I=!isNaN(parseFloat(1542326)),y="callback",T="ler",E;function w(){var e=ae();e.initialized&&e.domAccountId&&setTimeout(function(){for(var e=ae().asyncQueue;e.length;)ce(e.shift())},0)}function R(){var e=_(),t;if(e&&e.src&&(t=e.src.replace(c,"$3")))return/^\d+$/.test(t)?parseInt(t,10):(le("Value '"+t+"' is invalid for 'id' param in script source url '"+e.src+"'. Only numeric values are allowed."),g)}function _(){for(var e=document.querySelectorAll(u),t,i=0;i<e.length;i++)if((t=e[i]).src&&t.src.indexOf("/unip/")>0)return t}function C(){return t.eventUtils.getDateNow()}function U(e){e["ce"]="subscr"}function D(e){var t=n.getSessionDataFirstPartyCookie();void 0!==t&&t&&(e["sd"]=t)}function O(e){var t=P();t&&(e["ui"]=t)}function P(){try{var e=t.tfaUserId.getUserId(),i=n.getValue("user-id");if(e||i)return e||i}catch(e){le("Error while trying to add user-id param",e)}}function k(e){try{var i=t.tfaUserId.getClickId();i&&(e[t.tfaUserId.CLICK_ID_KEY]=i)}catch(t){le("Error while trying to addClickIdParam, params="+JSON.stringify(e),t)}}function N(e){var i=ae();i.referrer||(i.referrer=t.trk.getReferrer()),e[h.referrer]=i.referrer}function A(e,t){var i=h.url,n;be(he(e),t)&&(e[i]=e[i]||document.location.href)}function x(e){var t={},i=!1,n;for(var r in e[h.timestamp]=C(),e)!e.hasOwnProperty(r)||d.indexOf(r)>=0||(t[n=h.hasOwnProperty(r)?h[r]:r]=e[r],i=!0);return i&&t}function M(e,t){j(t),L(e,t)}function V(e){document.featurePolicy&&document.featurePolicy.allowsFeature("attribution-reporting")&&(e.headers||(e.headers={}),e.headers["Attribution-Reporting-Eligible"]="trigger")}function L(e,i){var n=ge(e)+l+pe(e,i);H(i,e),K(i,e),V(i);try{t.TRCLogger[p.httpMethod](n,p.loggerEventName,i,e)}catch(t){le("Error while trying to send to server event with id '"+e+"' and params '"+JSON.stringify(i)+"'.",t)}}function j(e){var t=P(),i=e[y];if(i){if(!t)return fe("No UserId to notify callback"),void delete e[y];if("function"!=typeof i)return fe("Callback function parameter is not a function "+i),void delete e[y];try{i({userId:t})}catch(e){le("Error calling advertiser callback",e)}delete e[y]}}function K(e,t){O(e),k(e),N(e),Z(e),A(e,t),F(e),$(e)}function $(e){var i=t.lastExternalReferrer.getLastExternalReferrer();i&&(e[T]=i)}function F(e){e&&s&&s.ESU&&s.ESU.getIsLocalStorageAvailable()&&(G(e),q(e),B(e))}function G(e){s.TOS&&(e.tos=s.TOS.getTimeOnSite())}function q(e){if(s.SSD){var i=s.SSD.getMetric(),n=t.eventUtils.hashString(window.location.href);s.SSD.isURLVisited(n)||i++,e.ssd=i}}function B(e){s.SCD&&(e.scd=s.SCD.getScrollDepth())}function H(e,t){z(e),J(e,t),Q(e,t)}function W(e,t){U(t),D(t),ie(e,t)}function z(e){e["vi"]=t.trk.getViewId()}function J(e,i){var n=t.trk.getPublisherRequestId(i);n&&(e["ri"]=n)}function Q(e,i){var n=t.trk.getPublisherSessionData(i);n&&(e["sd"]=n)}function Y(e,t){e["mrir"]=t}function Z(e){e["cv"]=i}function X(e,t){if(e===f)for(var i in t)if(!([h.name,h.timestamp].indexOf(i)>=0))return!0;return!1}function ee(e,i){var n=ae(),r;if(!t.trk.getPublisherRequestId(e)){if(t.trk.isRequestProcessing(e))return void n.messageDelayer.delayMessage(e,i,{successCallback:M,failCallback:function e(t,i,n,r){var o=b[r];o||(o=r),Y(i,o),L(t,i)},timeoutInMillis:de(e)});Y(i,t.trk.getRequestStatus(e))}L(e,i)}function te(e,i){var n=x(e),r=he(n),o=S[r];if(i=parseInt(i,10),!o||!o(n,i)){if(ve(i)){if(Se(i))return void ee(i,n);t.trk.getPublisherRequestId(i)||Y(n,"wffo")}else Y(n,"ttd");L(i,n)}}function ie(e,t){void 0!==e["sourceurl"]&&e["sourceurl"]&&(t["surl"]=e["sourceurl"])}function ne(e,t){var i=x(e);W(e,i),L(parseInt(t,10),i)}function re(e,i){var n=!1;try{n=!!t.tfaUserId.getClickId()}catch(e){}return me(i)&&!X(f,e)&&!n}function oe(e,i){var n=ae(),r=!1;return i&&(r=re(e,i),K(e),n.pageViewAccountIds[i]=parseInt(i,10),t.eventUtils.dispatchEvent(t.sharedEvents.PAGE_VIEW,{accountId:i,publisherIdType:t.publisherIdType.ID,pageViewInitiator:t.pageViewInitiator.TFA,isUnifiedPageView:r,metadata:e})),r}function se(e){return e?e.notify?a.hasOwnProperty(e.notify)?e.name?!(e.hasOwnProperty("id")&&!/^\d+$/.test(e.id))||(ue(m.INVALID_ID,e,"Value '"+e.id+"' is invalid for 'id' field in command '"+JSON.stringify(e)+"'. Only numeric values are allowed."),!1):(ue(m.MISSING_NAME,e,"Mandatory 'name' field is missing in command '"+JSON.stringify(e)+"'."),!1):(ue(m.INVALID_NOTIFY,e,"Value '"+e.notify+"' is invalid for 'notify' field in command '"+JSON.stringify(e)+"'."),!1):(ue(m.MISSING_NOTIFY,e,"Mandatory 'notify' field is missing in command '"+JSON.stringify(e)+"'."),!1):(ue(m.EMPTY_COMMAND,e,"Command is '"+e+"'."),!1)}function ae(){return window&&window[r]&&window[r].TUP||{}}function ce(e){var t,i;if(se(e))if(t=ae(),i=e.id||t.domAccountId){if(i!==g)try{a[e.notify](e,i)}catch(t){le("An error occurred while handling command '"+JSON.stringify(e)+"'.",t)}}else t.asyncQueue.push(e)}function ue(e,i,n){var r=ae();t.eventUtils.dispatchEvent(v.TFA_VALIDATION_ERROR,{accountId:r.domAccountId,errorCode:e,command:i}),le(n)}function le(e,t){p.logToConsole&&fe(e,t)}function fe(e,t){t?console.log("Taboola Pixel: "+e,t):console.log("Taboola Pixel: "+e)}function de(e){return 500+o.config.safeGet("tfa:trk:tracking-request-timeout",2e3,e)}function he(e){return e[h.name]}function ge(e){return o.config.safeGet("tfa:default-protocol",p.protocol,e)}function pe(e,t){var i=he(t),n;return o.config.safeGet("tfa:event-host-map",{},e)[i]||p.host}function me(e){return ve(e)&&o.config.safeGet("tfa:trk:is-unified-page-view",!1,e)}function ve(e){return o.config.safeGet("tfa:trk:enabled",!0,e)}function Se(e){return o.config.safeGet("tfa:trk:wait-for-request-id",!0,e)}function be(e,t){var i=o.config.safeGet("tfa:add-item-url:event-list",[],t);return"*"===i||i.indexOf(e)>=0}function Ie(){var e=o.TUP=o.TUP||{},i=o.config.safeGet("tfa:get-publisher-id-from-baker",!1);e.domAccountId=e.domAccountId||(i&&I?1542326:R()),e.initialized||(e.push=o.TUP.push||ce,e.initialized=!0,e.asyncQueue=[],e.EVENTS=v,e.pageViewAccountIds={},e.messageDelayer=new t.MessageDelayer("publisherId",t.sharedEvents.REQUEST_ID_CREATED,[t.sharedEvents.REQUEST_ID_CREATION_JS_ERROR,t.sharedEvents.REQUEST_ID_CREATION_ERROR,t.sharedEvents.REQUEST_ID_CREATION_TIMEOUT,t.sharedEvents.INVALID_TRK_RESPONSE]),s&&s.init&&s.init()),w()}Ie()}(window,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC'],"20230702-3-RELEASE"),function(e,t,i){var n="_tfa",r,o={orderid:"orderid",currency:"currency",revenue:"revenue",quantity:"quantity",name:"name",attributionGroup:"attributionGroup"},s={type:"marking-type"},a='https:'+"//trc.taboola.com/{$publishreId}log/3/{$logType}?",c=/(\S+)taboola(\S+|)\.com\/libtrc\/(\S+)\/tfa\.js(\S+|)/,u="unip/",l=[],f=[],d="_tecq",h="_dcojobs",g=!isNaN(parseFloat(1542326));function p(e){var t;switch(e.notify){case"action":t=l;break;case"mark":t=f;break;case"event":case"subscription":t=r.TUP;break;case"ecevent":var i=r.config&&r.config.safeGet("tfa:ecomm:enabled",!1,e.id),n=r.config&&r.config.safeGet("tfa:ecomm:cnx-enabled",!1,e.id);i||n?t=window[d]=window[d]||[]:r.config&&r.config.safeGet("tfa:dco:jobs:enabled",!1,e.id)&&(t=window[h]=window[h]||[]);break;default:return}t&&t.push(e)}function m(){return i.tfaUserId&&i.tfaUserId.getUserId()?"&ui="+encodeURIComponent(i.tfaUserId.getUserId()):""}function v(){return i.tfaUserId&&i.tfaUserId.getClickId()?"&"+i.tfaUserId.CLICK_ID_KEY+"="+encodeURIComponent(i.tfaUserId.getClickId()):""}function S(){var t,i,n,r;if(n=e._tfa.config.safeGet("tfa:get-publisher-id-from-baker",!1)&&g?1542326:_())for(t=0,i=l.length;t<i;t++)y(I(a,{$publishreId:n?n+"/":"",$logType:"action"})+"tim="+escape(E())+"&item-url="+escape(T())+C(o,l.shift())+w()+m()+v())}function b(){var t,i,n,r;if(n=e._tfa.config.safeGet("tfa:get-publisher-id-from-baker",!1)&&g?1542326:_())for(t=0,i=f.length;t<i;t++)y(I(a,{$publishreId:n?n+"/":"",$logType:"mark"})+"tim="+escape(E())+"&item-url="+escape(T())+C(s,f.shift())+w()+m()+v())}function I(e,t){return e.replace(/\{([^{}]*)\}/g,function(e,i){var n=t[i];return"string"==typeof n||"number"==typeof n?n:e})}function y(t){var i=new Image;e._tfa.config.safeGet("tfa:add-referrer-policy-when-firing-pixel",!0)&&(i.referrerPolicy="no-referrer-when-downgrade"),i.src=t}function T(){return e.location.href}function E(){var e=new Date,t=e.getHours(),i=e.getMinutes(),n=e.getSeconds()+e.getMilliseconds()/1e3;return(t<10?"0":"")+t+":"+(i<10?"0":"")+i+":"+(n<10?"0":"")+n.toFixed(3)}function w(){var i=e.location.search,n=t.referrer.match(/(\?\S+)$/g),r="";return r=R(i.replace(/^\?/,"").split(/&/))+(n?R(n[0].replace(/^\?/,"").split(/&/)):"")}function R(e){var t="",i,n,r="trc_";for(i=0,n=e.length;i<n;i++)0==e[i].indexOf(r)&&(t=t+"&"+e[i]);return t}function _(){var e=document.getElementsByTagName("script"),t,i,n="",r;for(t=0,i=e.length;t<i;t++)if((r=e[t].src)&&(n=r.replace(c,"$3"))!==e[t].src&&n.indexOf(u)<0)return n;return n}function C(e,t){var i,n="";for(i in e)void 0!==t[i]&&(n+="&"+e[i]+"="+t[i]);return n}function U(e){for(var t=0;t<arguments.length;t++)(e=arguments[t])instanceof Object&&p(e);return D(),arguments.length}function D(){S(),b()}function O(){for(;r.length;)U(r.shift())}function P(){(r=e[n]=e[n]||[]).registered||(r.push=U,r.registered=!0,O())}P()}(window,document,window['TFASC'.indexOf("{jsScope}")>=0?"TRC":'TFASC']);