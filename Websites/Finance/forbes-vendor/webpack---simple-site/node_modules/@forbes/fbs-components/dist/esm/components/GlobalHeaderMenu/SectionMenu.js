import { __assign } from '../../_virtual/_tslib.js';
import React__default, { useState } from 'react';
import classnames from '../../node_modules/classnames/index.js';
import SvgChevronUp from '../../node_modules/@forbes/fbs-icons/dist/svg/chevron-up.svg.js';
import SvgChevronDown from '../../node_modules/@forbes/fbs-icons/dist/svg/chevron-down.svg.js';
import ThirdLevelMenu from './ThirdLevelMenu.js';
import PaidProgram from './PaidProgram.js';
import MenuItem from '../MenuItem/MenuItem.js';
import styles from '../GlobalHeader/GlobalHeader.scss.js';

var generateTracking = function (title, position, sectionTitle) {
    return "U20 - Channel: ".concat(title, " - Position ").concat(position, " - Section: ").concat(sectionTitle);
};
var MenuSection = function (_a) {
    var menuItem = _a.menuItem, parentIndex = _a.index;
    var _b = useState({}), open = _b[0], setOpen = _b[1];
    if (!(menuItem === null || menuItem === void 0 ? void 0 : menuItem.sections))
        return null;
    var toggleSubMenu = function (index) {
        setOpen(function (prevState) {
            var _a;
            return (__assign(__assign({}, prevState), (_a = {}, _a[index] = !prevState[index], _a)));
        });
    };
    return (React__default.createElement(React__default.Fragment, null, menuItem.sections.map(function (subMenuItem, index) {
        var _a;
        return (React__default.createElement(React__default.Fragment, { key: "smfragment-".concat(index) },
            React__default.createElement(MenuItem, { key: "".concat(parentIndex, "-").concat(index), className: classnames((_a = {},
                    _a[styles.onlyMobileView] = subMenuItem.onlyMobileView,
                    _a)), tabIndex: 0, variant: "secondary" },
                React__default.createElement("a", { tabIndex: 0, "data-ga-track": generateTracking(menuItem.title, menuItem.position, subMenuItem.sectionTitle), href: subMenuItem.sectionUrl }, subMenuItem.paidContent ? (React__default.createElement(PaidProgram, null, subMenuItem.sectionTitle)) : (subMenuItem.sectionTitle)),
                subMenuItem.sections && subMenuItem.sections.length > 0 && (React__default.createElement("div", { role: "menu", className: classnames(open[index] ? styles.arrowUp : styles.arrowDown, styles.thirdLevelTitle), onClick: function () { return toggleSubMenu(index); } }, open[index] ? React__default.createElement(SvgChevronUp, null) : React__default.createElement(SvgChevronDown, null)))),
            subMenuItem.sections && subMenuItem.sections.length > 0 && (React__default.createElement(ThirdLevelMenu, { key: index, open: !!open[index], subMenuItem: subMenuItem, menuItem: menuItem }))));
    })));
};
function SectionMenu(_a) {
    var menuItem = _a.menuItem, index = _a.index;
    return React__default.createElement(MenuSection, { index: index, menuItem: menuItem });
}

export { SectionMenu as default };
//# sourceMappingURL=SectionMenu.js.map
