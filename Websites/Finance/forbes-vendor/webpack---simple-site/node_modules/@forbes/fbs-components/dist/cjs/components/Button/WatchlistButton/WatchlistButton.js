'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _tslib = require('../../../_virtual/_tslib.js');
var React = require('react');
var index = require('../../../node_modules/classnames/index.js');
var plusCircle = require('../../../node_modules/@forbes/fbs-icons/dist/svg/plusCircle.svg.js');
var minusCircle = require('../../../node_modules/@forbes/fbs-icons/dist/svg/minusCircle.svg.js');
var tracking = require('../../../shared/utilities/tracking.js');
var WatchlistButton$1 = require('./WatchlistButton.scss.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);

function WatchlistButton(_a) {
    var _ref = _a._ref, className = _a.className, added = _a.added, removeFromWatchlist = _a.removeFromWatchlist, addToWatchlist = _a.addToWatchlist, trackingProps = _a.trackingProps, restProps = _tslib.__rest(_a, ["_ref", "className", "added", "removeFromWatchlist", "addToWatchlist", "trackingProps"]);
    var _b = React.useState(added), isAdded = _b[0], setIsAdded = _b[1];
    var handleClick = function () {
        if (isAdded) {
            removeFromWatchlist(setIsAdded);
        }
        else {
            addToWatchlist(setIsAdded);
        }
        tracking.trackingHandler(trackingProps, !isAdded ? trackingProps === null || trackingProps === void 0 ? void 0 : trackingProps.watchLabel : trackingProps === null || trackingProps === void 0 ? void 0 : trackingProps.unwatchLabel);
    };
    return (React__default["default"].createElement("div", _tslib.__assign({ className: index["default"](className, WatchlistButton$1["default"].watchlistButton), ref: _ref, role: "button", onClick: handleClick }, restProps),
        React__default["default"].createElement("span", { "data-testid": isAdded ? 'minus' : 'plus', className: WatchlistButton$1["default"].watchlistIcon }, isAdded ? React__default["default"].createElement(minusCircle["default"], null) : React__default["default"].createElement(plusCircle["default"], null)),
        React__default["default"].createElement("span", { className: WatchlistButton$1["default"].watchlistText }, isAdded ? 'Remove from Watchlist' : 'Add to Watchlist')));
}

exports["default"] = WatchlistButton;
//# sourceMappingURL=WatchlistButton.js.map
