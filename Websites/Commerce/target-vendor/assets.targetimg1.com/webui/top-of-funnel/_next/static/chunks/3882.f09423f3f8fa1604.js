"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3882],{48795:function(e,t,r){r.d(t,{E:function(){return h}});var l=r(59499),i=r(67294),n=r(69626),o=r(8668),a=r(37586),s=r(85572),c=r(80900);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let p=(e,t)=>null==e?void 0:e.map(e=>{var r,l;let i=d(d({},e),{},{fulfillment:null!==(r=null==t?void 0:null===(l=t.find(t=>{var r,l;return(0,o.hg)(e)===(null!==(r=(0,o.hg)(t))&&void 0!==r?r:null==t?void 0:null===(l=t.fulfillment)||void 0===l?void 0:l.product_id)}))||void 0===l?void 0:l.fulfillment)&&void 0!==r?r:e.fulfillment});return i}),h=(e,t)=>{let r=null==e?void 0:e.filter(e=>!(0,a.re)(e)&&!(0,a.qJ)(e)).map(e=>(0,o.hg)(e)),{fulfillmentVariables:l,isFulfillmentQueryEnabled:u}=(0,c.J)(),[h,f]=(0,s.V)(d(d({},l),{},{tcins:null==r?void 0:r.join(",")},t),{enabled:!!(null==r?void 0:r.length)&&u}),v=h(),m=(0,i.useMemo)(()=>p(e,null==v?void 0:v.product_summaries),[e,v]),w=(0,n.s_)(f);return[m,w]}},52987:function(e,t,r){r.d(t,{W:function(){return a}});var l=r(85893),i=r(7337),n=r(48496),o=r(97193);let a=({handleViewDetailsClick:e})=>{var t,r;let a=null!==(t=(0,n.T)())&&void 0!==t?t:"",s=null!==(r=(0,o.h)())&&void 0!==r?r:"";return(0,l.jsx)(i.P,{"aria-label":`View details for ${a}`,"data-test":"itemDetail-viewDetailsButton",href:s,isFullWidth:!1,onClick:e,size:"sm",children:"View Details"})};a.displayName="ViewDetailsButton"},15138:function(e,t,r){r.d(t,{Y:function(){return d}});var l=r(47269),i=r(61464),n=r(27139),o=r(25682),a=r(92340),s=r(44350),c=r(42432);let u="@web/domain-product/get-product-summary-for-drawer",{useQuery:d}=(0,o.J)({name:u,keyFn:e=>{if(!e.tcins)throw Error("TCINS not defined for product summary drawer query");return[u,e]},queryFn:async e=>{let{apiKey:t,baseUrl:r,apis:{product:o}}=(0,s.config)().services.redskyAggregations,{tcins:u,pricing_store_id:d=a.AP}=null!=e?e:{},p=await (0,n.W)(),{data:h,ok:f,statusText:v}=await (0,c._)(null==u?void 0:u.split(","),e=>{let n={key:t,effective_date:p,tcins:e.join(","),pricing_store_id:d};if(!n.tcins)throw Error("TCINS not defined for product summary drawer query");let a=l.Z.buildURLWithParams(new URL(o.endpointPaths.productSummaryForDrawer,r),n);return(0,i.G)(a,{partialErrorTag:"get_product_summary_for_drawer_v1_partial_api_error",errorTag:"get_product_summary_for_drawer_v1_api_error",timerTag:"get_product_summary_for_drawer_v1_api_call"})});if(f){var m;return null!==(m=null==h?void 0:h.data)&&void 0!==m?m:null}throw Error(`${v}`)}})},46652:function(e,t,r){r.d(t,{_:function(){return v}});var l=r(59499),i=r(4730),n=r(85893),o=r(56947),a=r(75362);let s=["height","viewBox","width"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let d=e=>{let{height:t="18",viewBox:r="0 0 33 33",width:l="18"}=e,c=(0,i.Z)(e,s);return(0,n.jsx)(a.WB,{children:(0,n.jsxs)("svg",u(u({height:t,preserveAspectRatio:"xMaxYMax",viewBox:r,width:l,xmlns:"http://www.w3.org/2000/svg"},c),{},{children:[(0,n.jsx)("path",{className:"fill1",d:"M28.562 31.8h-24l2-23h20l2 23z",fill:o.colors.palette.white}),(0,n.jsx)("path",{className:"fill1",d:"M20.762 15.2v-10a4.012 4.012 0 00-4-4h-.4a4.012 4.012 0 00-4 4v10.1",fill:o.colors.palette.white}),(0,n.jsx)("path",{className:"fill1",d:"M26.87 9.013a.967.967 0 00-.958-.878h-4.616v-2.5A4.813 4.813 0 0016.488.827h-.384a4.813 4.813 0 00-4.807 4.808v2.5H6.68a.967.967 0 00-.957.878L3.8 31.127a.961.961 0 00.957 1.046h23.077a.961.961 0 00.958-1.045z",fill:o.colors.palette.white}),(0,n.jsx)("path",{className:"fill1",d:"M27.05 9a.751.751 0 00-.7-.7h-5V5.4a4.827 4.827 0 00-4.7-4.7h-.4a4.827 4.827 0 00-4.7 4.7v2.8h-4.9a.684.684 0 00-.7.7l-2 22.5a.773.773 0 00.7.8h23.6a.713.713 0 00.7-.8v-.1z",fill:o.colors.palette.white}),(0,n.jsx)("path",{className:"fill2",d:"M27.293 8.714a1.006 1.006 0 00-.996-.914h-4.8V5.2a5.006 5.006 0 00-5-5h-.4a5.006 5.006 0 00-5 5v2.6h-4.8a1.006 1.006 0 00-.996.914l-2 22.998a1 1 0 00.996 1.088h24a1 1 0 00.996-1.087zM12.097 16.3a1.001 1.001 0 001-1V9.8h6.4v5.4a1 1 0 102 0V9.8h3.883l1.826 21H5.388l1.826-21h3.883v5.5a1.001 1.001 0 001 1zm1-8.5V5.2a3.003 3.003 0 013-3h.4a3.003 3.003 0 013 3v2.6z",fill:o.colors.palette.gray.dark})]}))})};d.displayName="BagIcon";let p=["height","onClick","viewBox","width"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let v=e=>{let{height:t,onClick:r,viewBox:l,width:o}=e,s=(0,i.Z)(e,p);return(0,n.jsx)(a.E0,f(f({},s),{},{children:(0,n.jsx)(d,{height:t,onClick:r,viewBox:l,width:o})}))};v.displayName="BagActionIcon"},75362:function(e,t,r){r.d(t,{B8:function(){return n},E0:function(){return o},WB:function(){return a}});var l=r(19521),i=r(56947);let n=l.ZP.div.attrs({"data-test":"storycard--action"}).withConfig({displayName:"styles__ActionIconWrapper",componentId:"sc-e380s1-0"})(["position:absolute;padding:",";background-color:",";display:flex;align-content:center;justify-content:center;border-radius:50%;overflow:hidden;height:32px;width:32px;border:1px solid transparent;button:hover &,a:hover &,button:focus &,a:focus &{border:1px dashed ",";box-shadow:0 0 0 1px ",";}button:active &,a:active &{border:1px solid ",";background-color:",";}svg{max-width:100%;}"],i.space.generic.x1,i.colors.palette.white,i.colors.palette.gray.darkest,i.colors.palette.white,i.colors.palette.white,i.colors.palette.gray.darkest),o=(0,l.ZP)(n).withConfig({displayName:"styles__BagActionIconWrapper",componentId:"sc-e380s1-1"})(["right:",";bottom:",";button:active &,a:active &{svg{path{&.fill1{fill:",";}&.fill2{fill:",";}}}}"],i.space.generic.x1,i.space.generic.x1,i.colors.palette.gray.darkest,i.colors.palette.white),a=l.ZP.div.withConfig({displayName:"styles__BagIconWrapper",componentId:"sc-e380s1-2"})(["margin:1px;"])},67530:function(e,t,r){r.d(t,{M:function(){return k}});var l=r(85893),i=r(67294),n=r(43430),o=r(23680),a=r(48795),s=r(81982),c=r(78665),u=r(78),d=r(23362),p=r(57518),h=r(83160),f=r(52987),v=r(7535),m=r(15138),w=r(42850),g=r(33460),b=r(47269),y=r(11163),_=r(67300),j=r(19521),x=r(36679);let O=(0,j.ZP)(x.F).attrs({className:"h-text-xl h-display-flex h-flex-justify-center h-text-center h-text-bold"}).withConfig({displayName:"styles__GlobalLink",componentId:"sc-a9ga47-0"})(["padding-top:60px;padding-bottom:60px;"]),P=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"h-text-bold",children:"Sorry, no items for this yet"}),(0,l.jsx)("span",{children:"Please try again later."})]});P.displayName="NoItemsMessage";let k=({addToCartTrackingPlacementType:e,componentId:t="UNKNOWN",shoppableDrawerData:r})=>{var j,x;let k=(0,n.rS)(),N=(0,v.kO)(),{asPath:D}=(0,y.useRouter)(),C=(0,_.ew)(D),E=(0,i.useMemo)(()=>(null==D?void 0:D.includes("/gift-registry/dashboard"))||(null==D?void 0:D.includes("/gift-registry/browse-and-add-items")),[D]),B=(0,i.useMemo)(()=>"/c/m6t97"===C,[C]),M=null!==(j=null===(x=r.tcins)||void 0===x?void 0:x.replace(/\s+/g,""))&&void 0!==j?j:"",[S,V]=(0,m.Y)({tcins:M,pricing_store_id:N}),F=S(e=>null==e?void 0:e.product_summaries),[I,T]=(0,a.E)(F),W=(0,i.useCallback)(({tcin:e})=>()=>{k.trackEvent({guest:{eventType:"customInteraction"},customInteraction:{type:"click",value:`${t}_ViewDetails_${e}`}})},[t,k]),A=(0,i.useCallback)(()=>{k.trackEvent({guest:{eventType:"customInteraction"},customInteraction:{value:`${t}_ShoppableDrawer_ViewMore`,type:"click"}})},[t,k]);if(V.isFetching)return(0,l.jsx)(d.m,{});if(V.isError)return(0,l.jsx)(p.F,{});if(!F||!I)return null;if(0===F.length)return(0,l.jsx)(p.F,{Message:P});let Z=(0,l.jsx)(c.q,{overrideBehavior:s.TX.ENABLE_CHOOSE_OPTIONS_ONLY_MODE,placementType:e,size:"sm",willHaveProductContextFulfillmentDataForAddToCart:!0}),z=!!r.global_link_url,L=()=>{var e,t;let i=b.Z.buildURLWithParams(null!==(e=r.global_link_url)&&void 0!==e?e:"",{regMode:"REGST"}),n=E?i:r.global_link_url;return(0,l.jsx)(O,{"data-test":"shoppableDrawer-viewMoreLink",href:n,onClick:A,underline:"invert",children:(0,o.Jx)(null!==(t=r.global_link_text)&&void 0!==t?t:"View more")},"global-lnk")};L.displayName="GlobalLinkComponent";let R="pdp"===r.card_action_type;return(0,l.jsxs)(h.e,{children:[null==I?void 0:I.map((t,r)=>(0,l.jsx)(w.d,{debugName:R?"shoppable_drawer_with_view_details":"shoppable_drawer_with_atc",queryResult:V,queryResultFulfillment:T,value:t,children:R?(0,l.jsx)(u.d,{actionButton:(0,l.jsx)(f.W,{handleViewDetailsClick:W({tcin:null==t?void 0:t.tcin})}),onViewDetailClick:W({tcin:null==t?void 0:t.tcin}),willHaveProductContextFulfillmentDataForAddToCart:!0}):(0,l.jsx)(u.d,{actionButton:E?(0,l.jsx)(g.E,{buttonSize:"sm",showPlpVersionButton:!0,showPlpVersionButtonForBabyChecklistPage:!0}):Z,onViewDetailClick:W({tcin:null==t?void 0:t.tcin}),placementType:e,shouldShowRegistryButtonBottom:B,willHaveProductContextFulfillmentDataForAddToCart:!0})},R?`shoppable_drawer_with_view_details_${null==t?void 0:t.tcin}_${r}`:`shoppable_drawer_with_atc_${null==t?void 0:t.tcin}_${r}`)),z?(0,l.jsx)(L,{}):null]})};k.displayName="ShoppableDrawerContent"}}]);