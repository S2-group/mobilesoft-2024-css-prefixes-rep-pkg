"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7684,2812],{73998:function(e,t,r){r.d(t,{O:function(){return g}});var a=r(19525),n=r(41609),l=r.n(n),i=r(11163),o=r(39282),s=r(57928),u=r(23100),d=r(65920),c=r(50361),f=r.n(c),v=r(63197);let p=(e,t)=>{if(!(null!=e&&e.length))return null!=e?e:[];let r=f()(e),a=r[r.length-1];return t&&t>0&&null!=a&&a.seo_h1&&(a.seo_h1=`${a.seo_h1} (${(0,v.EW)(t)})`),r};var b=r(67294),m=r(30273),h=r(43430);let _=({breadcrumb:e,index:t})=>{var r;let n=(0,h.rS)(),l=(0,b.useCallback)(({currentTarget:{textContent:e}})=>{n.trackEvent({customInteraction:{value:`breadcrumb_${t}`},guest:{eventType:"customInteraction"}}),(0,h.OK)({navClick:{text:null!=e?e:void 0,type:"breadcrumb"}})},[t,n]);return(0,a.Z)(m.A,{href:e.canonical_url,onClick:l,title:null!==(r=e.seo_h1)&&void 0!==r?r:""})};_.displayName="BreadcrumbLinkWrapper";let g=({breadcrumbs:e,totalResults:t})=>{let{asPath:r,query:n}=(0,i.useRouter)(),c=!!n&&!!(0,u.jI)(n,"breadcrumbs");if(!e||c)return null;let f=p(e,t),v=(0,s.o)(r),b=(0,d.I$)(r);return l()(f)||["brand","search","promo"].includes(v)?null:(0,a.Z)(o.a,{className:""},void 0,f.map((e,t)=>(0,a.Z)("span",{className:b?"h-text-transform-caps":void 0},null==e?void 0:e.node_id,(0,a.Z)(_,{breadcrumb:e,index:t}))))};g.displayName="Breadcrumbs"},78907:function(e,t,r){let a;r.d(t,{x2:function(){return I},nY:function(){return a}});var n,l=r(19525),i=r(67294),o=r(9196),s=r(66381),u=r(55446),d=r(63471),c=r(64334),f=r(95106),v=r(7535),p=r(60217),b=r(8668),m=r(59499),h=r(35216),_=r(37673),g=r(48332),y=r(44350),O=r(51285);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,m.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let{useMutation:E}=(0,h.F)({name:O.a,mutationFn:async({url:e,name:t,type:r,text:a,productId:n,options:l,storeId:i,storeName:o,zipCode:s,isFireflyFeedback:u})=>{let d={deviceType:(0,g.vO)(),defaultStore:{storeId:i,storeName:o,zipCode:s}};if(u){var c,f,v,p,b;let i={name:t,productId:n,type:r,options:l,feedback:`${a} -- ${JSON.stringify(d)}`},o=null!==(c=null===(f=window)||void 0===f?void 0:null===(v=f.tgt)||void 0===v?void 0:v.dataLayer)&&void 0!==c?c:{},s=[N(N({},o),{},{feedbackObj:i})],{ok:u,statusText:m}=await (0,_.v_)(e,{body:JSON.stringify(s),credentials:"include",headers:{"x-api-key":null===(p=(0,y.config)())||void 0===p?void 0:null===(b=p.firefly)||void 0===b?void 0:b.apiKey}});if(u)return{success:!0};throw Error(`postFeedback firefly POST - ${m}`)}let m={feedback:{name:t,productId:n,type:r,options:l,feedback:`${a} -- ${JSON.stringify(d)}`}},{ok:h,statusText:O}=await (0,_.v_)(e,{body:JSON.stringify(m),credentials:"include"});if(h)return{success:!0};throw Error(`postFeedback POST - ${O}`)}});(n=a||(a={})).INFORM_ACT="INFORM_ACT",n.NLR_FEEDBACK="NLR_FEEDBACK";let S={INFORM_ACT:{prompt:"Report this item",name:"informActForm",type:"PDP_Inform_Act_Form",textareaText:"Please provide more details below",footerText:"Max length: 200. Alternatively, you can also contact Target Guest Services at 1-800-591-3869 to report unusual marketplace activity.",options:[]},NLR_FEEDBACK:{prompt:"Help us improve this page",name:"LOW_NULL_RECOVERYfeedback",type:"LOW_NULL_RECOVERY_What_Brings_You_info",headerText:"What brings you here today?",textareaText:"How could we improve?",footerText:"Choose the answer that best describes why",options:[{id:"checkAvailabilityBeforeStoreTrip",label:"Checking availability before a store trip"},{id:"buyOnlineAndPickUpStore",label:"Buying online & picking up at the store"},{id:"buyOnlineAndGetShipped",label:"Buying online & having it shipped"},{id:"otherReasons",label:"Other"}]}};var T=r(19521),w=r(36679),C=r(56947);let A=T.ZP.div.withConfig({displayName:"styles__ButtonWrapper",componentId:"sc-10gw43k-0"})(["text-align:right;"]),x=(0,T.ZP)(w.F).withConfig({displayName:"styles__Prompt",componentId:"sc-10gw43k-1"})(["font-size:",";cursor:pointer;"],C.font.size.text.medium);function I({feedbackType:e,url:t,isFireflyFeedback:r}){var n,m,h,_;let{name:g,type:y,prompt:O,headerText:k,textareaText:N,footerText:T,options:w}=S[e],C=(0,p.Ao)(b.hg),{0:I,1:Z}=(0,i.useState)(!1),{0:L,1:B}=(0,i.useState)(""),{0:P,1:R}=(0,i.useState)(!1),{0:D,1:F}=(0,i.useState)(!1),{0:j,1:M}=(0,i.useState)([""]),[$]=E(),G=(0,f.G)(),{zipCode:U}=null!=G?G:{},W=null!==(n=null===(m=(0,v.oJ)())||void 0===m?void 0:m.preferredStoreName)&&void 0!==n?n:"",J=null!==(h=null===(_=(0,v.lo)())||void 0===_?void 0:_.preferredStoreId)&&void 0!==h?h:"",Y=(0,i.useCallback)(e=>null==e?void 0:e.focus(),[]),z=(0,i.useCallback)(e=>{e.preventDefault(),Z(!0)},[]),K=(0,i.useCallback)(e=>{let{checked:t,label:r}=e.currentTarget;t?M([...j,r]):M(j.filter(e=>e!==r))},[j]),H=(0,i.useCallback)(e=>{R(e.length>0),B(e)},[]),X=(0,i.useCallback)(async()=>{var e,a;let n=null!==(e=null==j?void 0:j.join(","))&&void 0!==e?e:"",{success:l}=null!==(a=await $({url:t,name:g,type:y,text:L,productId:C,options:n,storeId:J,storeName:W,zipCode:U,isFireflyFeedback:r}))&&void 0!==a?a:{};l&&F(!0)},[$,g,y,J,L,U,W,j,C,r,t]),V=j.length>0||P;if(!I){let t=e===a.INFORM_ACT?"h-margin-v-default":"h-margin-a-default";return(0,l.Z)("div",{className:t},void 0,(0,l.Z)(x,{onClick:z,underline:e===a.INFORM_ACT?"always":void 0},void 0,O))}if(!D){let e=w.map(e=>{let{id:t,label:r}=e,a=j.includes(r);return(0,l.Z)(o.X,{className:"h-margin-v-tight h-text-md"},`${k}${t}`,(0,l.Z)(s.X,{checked:a,id:t,label:r,onChange:K}))});return(0,l.Z)("div",{className:"h-margin-a-default"},void 0,(0,l.Z)("form",{},void 0,!!k&&(0,l.Z)(u.w,{className:"h-margin-b-default h-text-bs",elementRef:Y,level:3,tabIndex:-1},void 0,k),e,!!N&&(0,l.Z)(u.w,{className:"h-margin-t-default h-margin-b-default h-text-bs",level:3},void 0,N),(0,l.Z)(d.g,{className:"h-margin-b-default",id:"feedBackDetails",label:"your feedback",maxlength:200,onChange:H,rows:4,value:L}),!!T&&(0,l.Z)(o.X,{className:"h-text-grayDark h-text-sm h-margin-b-default"},void 0,T),(0,l.Z)(A,{},void 0,(0,l.Z)(c.D,{disabled:!V,onClick:X,size:"sm"},void 0,"submit"))))}return(0,l.Z)("div",{className:"h-margin-a-default h-text-greenDark"},void 0,(0,l.Z)(u.w,{elementRef:Y,level:3,tabIndex:-1},void 0,"Thanks!"),"We appreciate your feedback.")}I.displayName="Feedback"},51285:function(e,t,r){r.d(t,{a:function(){return n},m:function(){return a}});let a="site-top-of-funnel/send-guest-feedback",n="site-top-of-funnel/domain/feedback/post-feedback"},82823:function(e,t,r){r.d(t,{P:function(){return N}});var a=r(44908),n=r.n(a),l=r(67294),i=r(11163),o=r(46879),s=r(80198),u=r(44350),d=r(24223),c=r(48914),f=r(68714),v=r(23100),p=r(7535),b=r(84520),m=r(39798),h=r(59905),_=r(78469),g=r(34451),y=r(11772),O=r(65920);let k=({enabled:e}={})=>{let{preferredStoreZipCode:t,queryState:r}=(0,p.oJ)(),[a,n]=(0,h.Z)({limit:5,place:t},{enabled:e&&(r.status===c.o.Success||r.status===c.o.Error)}),i=a(_.Ys),o=!e||n.status===c.o.Success||n.status===c.o.Error;return(0,l.useMemo)(()=>e&&(r.status!==c.o.Success&&r.status!==c.o.Error||t)?{nearbyStoreIds:i,enabled:o}:{nearbyStoreIds:void 0,enabled:!0},[r.status,t,i,e,o])},N=()=>{var e;let t=(0,d.T)().SHOW_INTENT_ABOVE_GRID,r=(0,i.useRouter)(),{query:a}=r,h=(0,v.jI)(a,"storeIdList"),_=(0,O.l1)(r),N=t?g.zU:y.zU,E=null==_?void 0:_.some(e=>N.includes(e)),{preferredStoreId:S,queryState:T}=(0,p.lo)(),{nearbyStoreIds:w,enabled:C}=k({enabled:!E}),A=null!==(e=(0,d.T)().GLOBAL_GUEST_ANONYMOUS_ESTIMATE_ENABLED)&&void 0!==e?e:(0,u.flags)("GLOBAL_GUEST_ANONYMOUS_ESTIMATE_ENABLED"),x=(0,o.Bz)(),I=(0,s.P)(),Z=(0,o.xd)(),L=Z&&(0,u.flags)("GLOBAL_GUEST_CONTEXTS_ENABLED")&&!E,[B,P]=(0,b._)({filter_signals:"store_trips,trend_seeker,brand"},{enabled:L}),R=B(m.Qv),D=[...null!=w?w:[],...null!=R?R:[]],F=n()(h?h.split(","):[S,...E?[]:D]).filter(f.y).join(","),j=!L||P.status===c.o.Success||P.status===c.o.Error,M=(!!A&&!!x||!!I&&j)&&C&&(T.status===c.o.Success||T.status===c.o.Error);return(0,l.useMemo)(()=>({store_ids:F,enabled:M}),[F,M])}},13831:function(e,t,r){r.d(t,{J:function(){return a}});let a=(e=[],t="",r)=>{let a=e.map(e=>{var t;return{canonical_url:e.canonical_url,node_id:e.node_id,seo_h1:"Homepage"===e.seo_h1?"Target":null!==(t=e.seo_h1)&&void 0!==t?t:""}});t&&a.push({canonical_url:void 0,node_id:void 0,seo_h1:t});let n=null==r?void 0:r.pageKey;return("dynamicBrand"===n||"seller"===n)&&a.shift(),a}}}]);