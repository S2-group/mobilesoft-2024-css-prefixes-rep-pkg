import { systemBreakpoints } from '../../components/constants.js';

/**
 * retrieves a list of responsive classes
 *
 * @param responsiveStyles key-value pair of responsive styles
 * @param stylesScssModule reference to the actual scss module used to retrieve the styles
 */
const getResponsiveClasses = (responsiveStyles, stylesScssModule) => {
  return Object.keys(responsiveStyles).map(styleName => {
    const responsiveStyle = responsiveStyles[styleName];
    if (responsiveStyle === undefined || responsiveStyle === false) {
      return null;
    }
    if (Array.isArray(responsiveStyle)) {
      return responsiveStyle.map((styleValue, index) => {
        if (styleValue === false) {
          return null;
        }
        const breakpoint = index === 0 ? '' : `-${systemBreakpoints[index][0]}`;
        const value = styleValue === true ? '' : `-${styleValue}`;
        return stylesScssModule[`${styleName}${breakpoint}${value}`];
      });
    }
    const value = responsiveStyle === true ? '' : `-${responsiveStyle}`;
    return stylesScssModule[`${styleName}${value}`];
  });
};
export { getResponsiveClasses };