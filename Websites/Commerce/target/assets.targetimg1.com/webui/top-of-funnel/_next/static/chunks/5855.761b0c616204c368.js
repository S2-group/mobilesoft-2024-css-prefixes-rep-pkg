"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5855],{78503:function(e,t,r){r.d(t,{H:function(){return i}});var n=r(67294),o=r(86235);let i=()=>{let{dispatch:e,circleOffersReducerState:t}=(0,n.useContext)(o.j);return[t,e]}},87588:function(e,t,r){r.d(t,{Z:function(){return n},v:function(){return o}});let n={cmsPageId:"/bulkoffers",cmsPageType:"/bulkoffers/",pageName:"bulk offers",pageType:"bulk offers"},o={cmsPageId:"/ATCofferssheet",cmsPageType:"/ATCofferssheet/",pageName:"ATC: offers sheet",pageType:"ATC offers sheet"}},91605:function(e,t,r){r.d(t,{E:function(){return d},b:function(){return u}});var n=r(59499),o=r(67294),i=r(43430),c=r(78503),l=r(37245);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let d=({isMagicWandShown:e,appState:t,circleOffers:r})=>{let{trackEvent:n}=(0,i.rS)(),[l]=(0,c.H)(),s=r.some(e=>{var t,r;return null==l?void 0:null===(t=l[null!==(r=e.id)&&void 0!==r?r:""])||void 0===t?void 0:t.added}),d=(0,o.useMemo)(()=>r.filter(e=>{var t,r;return null==l?void 0:null===(t=l[null!==(r=e.id)&&void 0!==r?r:""])||void 0===t?void 0:t.added}),[r,l]),u=(0,o.useRef)(!1),f=(0,o.useRef)(!1);(0,o.useEffect)(()=>(f.current=!1,u.current=!1,()=>{f.current=!0}),[]),(0,o.useEffect)(()=>{e&&n({appState:t,guest:{eventType:"pageload"}})},[e,n,t]);let m=(0,o.useCallback)((r="button")=>{if(!e||u.current)return;let o=null==d?void 0:d.map(e=>({offerId:e.id,offerSelected:!0,offerType:"cartwheel"}));n(a({appState:t,guest:{eventType:"click"},lnk:{contentClick:{componentType:"action",contentType:`bulk offers: offer: ${s?"added":`${r}: no action`}`}}},s?{offerInfo:{addOffer:!0,offers:o}}:{})),u.current=!0},[e,n,s,d,t]);return(0,o.useEffect)(()=>()=>{f.current&&m("dismiss")},[m]),m},u=e=>{let{trackEvent:t}=(0,i.rS)();return r=>{let n,o;let{offerId:i,action:c,offerAriaLabel:s}=null!=r?r:{};i&&(c===l.x.ADDED_OFFER?n=!0:c===l.x.ADD_OFFER_ERROR&&(n=!1),c===l.x.REMOVED_OFFER?o=!0:c===l.x.REMOVE_OFFER_ERROR&&(o=!1),t({appState:e,guest:{eventType:"click"},offerInfo:a(a(a({},n?{addOffer:n}:{}),o?{removeOffer:o}:{}),{},{offers:[{offerId:i,offerSelected:void 0!==n||void 0!==o,offerType:"cartwheel"}]}),promotionInfo:{promos:[{id:i,omtOfferId:i,added:n,removed:o,longTagSpecialOffer:s}]}}))}}},68017:function(e,t,r){r.d(t,{V:function(){return V}});var n=r(41609),o=r.n(n),i=r(85893),c=r(67294),l=r(43430),s=r(21803),a=r(55446),d=r(36176),u=r(85393),f=r(18617),m=r(42850),p=r(8668),g=r(69626),y=r(6410),v=r(56947),h=r(59499),b=r(60217),x=r(48496),O=r(97193),k=r(37586),j=r(17314),w=r(53726),C=r(38620),T=r(60390),P=r(35593),E=r(19521),S=r(36679);let N=E.ZP.div.withConfig({displayName:"styles__TileRoot",componentId:"sc-12wgyin-0"})(["display:flex;flex-direction:column;align-items:center;flex:0 0 50%;padding:"," ",";text-align:center;"],v.space.generic.x4,v.space.generic.x2),_=(0,E.ZP)(S.F).withConfig({displayName:"styles__StyledLink",componentId:"sc-12wgyin-1"})(["display:block;flex-grow:1;margin-bottom:",";font-size:",";"],v.space.generic.x2,v.font.size.text.medium),R=E.ZP.div.withConfig({displayName:"styles__ButtonWrapper",componentId:"sc-12wgyin-2"})(["margin:",";width:calc(100% - ",");min-width:110px;& > button{max-width:unset;width:100%;}"],v.space.generic.x1,v.space.generic.x2);var I=r(81982),D=r(72604),A=r(1280);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){(0,h.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let M=({index:e,handleRecommendationsClick:t,strategyId:r,strategyName:n})=>{var o;let s=(0,b.ct)(p.hg),a=(0,x.T)(),d=(0,O.h)(),u=(0,b.ct)(k.jz),m=(0,C.b)({hidePromos:!0}),g=(0,b.Ao)(f.$y),{cartRequestParams:y}=null!==(o=(0,c.useContext)(A.zZ))&&void 0!==o?o:{},{trackEvent:v}=(0,l.rS)(),h=(0,c.useCallback)(t=>F(F({},t),{},{lnk:F(F({},t.lnk),{},{recClick:{position:e,productId:s,strategyId:r,strategyName:n}})}),[e,s,r,n]),E=(0,c.useCallback)(()=>{v({event:{name:"addToCart",source:`product ad | mweba2ch1 | ${e}`,type:"click"},guest:{eventType:"click"},products:[{tcin:s}]})},[e,s,v]);return(0,i.jsxs)(N,{"data-test":"addToCartSuccessModalRecommendationsTile",children:[(0,i.jsxs)(_,{className:`item-${e}`,color:"onLightSecondary","data-position":e,"data-product-id":s,href:d,onClick:t,underline:"invert",children:[(0,i.jsx)("div",{className:"h-margin-b-tiny",children:(0,i.jsx)(j.t,{alt:a,aspectRatio:"1x1",src:u,width:"100px"})}),(0,i.jsx)(T.S,{hidePromos:!0}),(0,i.jsx)(w.k,{lines:4-m,children:a}),g?(0,i.jsx)("p",{className:"h-text-xs",children:"sponsored"}):null]}),(0,i.jsx)(R,{onClick:g?E:h,children:(0,i.jsx)(P.AddToCartButtonForProductContext,{cartRequestParams:F(F({},y),{},{registry_information:void 0}),handleOverridingOrAddingTrackingFieldsToAddToCartSuccess:h,overrideBehavior:I.TX.ENABLE_CHOOSE_OPTIONS_ONLY_MODE,placementType:D.bo.AddToCartSuccessModalRecommendation,size:"sm"})})]})};M.displayName="RecommendationsTile";let z=({recommendedProducts:e})=>{let{trackEvent:t}=(0,l.rS)();return(0,c.useEffect)(()=>{t({guest:{eventType:"recommendations"},recommendations:{categoryId:e.category_id,docType:e.doctype,placementId:e.placement_id,strategyDescription:e.strategy_description,strategyId:e.strategy_id,strategyName:e.strategy_name,type:"product"}})},[e,t]),(0,i.jsx)("div",{"data-test":"recommendations-tracking"})};z.displayName="RecommendationsTracking";var Z=r(95114);let V=({tcins:e})=>{var t;let{trackEvent:r}=(0,l.rS)(),n=(0,l.rS)(),h="mweba2ch1",[b,x]=(0,d.T)({placement_id:h,tcins:e}),O=b(u.t_),k=(0,u.VB)(O),j=(0,u.Dm)(O),w=(0,u.YE)(O),C=null!==(t=(0,u.k2)(O))&&void 0!==t?t:"More to consider",T=(0,Z._l)(k);(0,c.useEffect)(()=>{o()(T)||n.trackEvent({guest:{eventType:"adimp"},adImpressions:T})},[T,n]);let P=(0,c.useCallback)(e=>{var t,n,o,i,c,s;let a=null!==(t=null===(n=e.currentTarget)||void 0===n?void 0:n.getAttribute("data-position"))&&void 0!==t?t:-1,d=null!==(o=null===(i=e.currentTarget)||void 0===i?void 0:i.getAttribute("data-product-id"))&&void 0!==o?o:void 0,u=null!==(c=null==k?void 0:k[a])&&void 0!==c?c:{};if((0,f.$y)(u)){let{ad_source:e,click_id:t,click_token:n}=null!==(s=(0,f.TV)(u))&&void 0!==s?s:{};r({event:{name:"openNewPage",source:`product ad | ${h} | ${a}`,type:"click"},guest:{eventType:"click"},products:[{tcin:d}]}),r({customInteraction:{type:"click",value:`${t}|${n}`},guest:{eventType:"customInteraction"},products:[{tcin:d,sponsor:{name:e}}]})}else(0,l.OK)({recClick:{position:Number(a),productId:d,strategyId:j,strategyName:w,type:"product"}})},[k,j,w,r]),E=(0,g.s_)(x),S=(0,c.useMemo)(()=>{var e;return null==O?void 0:null===(e=O.products)||void 0===e?void 0:e.map((e,t)=>(0,i.jsx)(m.d,{debugName:"RecommendationsFilmstrip",queryResult:E,value:e,children:(0,i.jsx)(M,{handleRecommendationsClick:P,index:t,strategyId:j,strategyName:w})},(0,p.iC)(e)))},[null==O?void 0:O.products,j,w,P,E]);return O||x.isSuccess||x.isError?!(null!=O&&O.products)||O.products.length<=0?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(z,{recommendedProducts:O}),(0,i.jsxs)("div",{children:[(0,i.jsx)(a.w,{className:"h-margin-t-x2",size:3,children:C}),(0,i.jsx)(y.M,{buttonSize:"sm","data-test":"addToCartSuccessModalRecommendations",itemsPerClick:4,maxClickCount:1,tabTitle:C,tagName:"div",children:S})]})]}):(0,i.jsx)(s.G,{animationDuration:"500ms",height:"120px",isAnimated:!0,stroke:v.colors.palette.gray.light,width:"100%"})};V.displayName="Recommendations"},38620:function(e,t,r){r.d(t,{b:function(){return l}});var n=r(60217),o=r(56696),i=r(83251),c=r(40786);let l=({hidePromos:e=!1}={})=>{var t;let r=(0,n.ct)(o.hp),l=!e&&r&&r.length>0,s=(0,n.ct)(i.mU),a=(0,n.ct)(i.D2),d=!!c.DP[null!==(t=null!=a?a:s)&&void 0!==t?t:""];return l?1!==r.length||d?3:2:d?2:1}},6410:function(e,t,r){r.d(t,{M:function(){return f}});var n=r(85893),o=r(67294),i=r(9196),c=r(36679),l=r(7337),s=r(43430),a=r(90762),d=r(19521);let u=(0,d.ZP)(a.P).withConfig({displayName:"styles__StyledIconNavigationArrowDownFill",componentId:"sc-qwvsl5-0"})(["color:#333;vertical-align:bottom;transition:transform;transform:rotate(0deg) translateY(0);",";"],e=>e.isActive&&`transform-origin: center;
        transform: rotate(180deg);`),f=({tabTitle:e,itemsPerClick:t=6,maxClickCount:r=2,tagName:a="ul",hasFlexColumn:d,children:f,justifyContentCenter:m,shouldScrollIntoView:p,alternateButton:g,onClick:y,buttonSize:v,"data-test":h})=>{let{0:b,1:x}=(0,o.useState)(0),{trackEvent:O}=(0,s.rS)();(0,o.useEffect)(()=>{x(0)},[f]);let k=(0,o.useRef)(null),j=(0,o.useCallback)(()=>{var e;if(!k.current||0===b)return;let r=null===(e=k.current)||void 0===e?void 0:e.querySelector(`.item-${b*t}`);r&&r.focus()},[k,t,b]);(0,o.useEffect)(()=>{j()},[j]);let w=(0,o.useCallback)(t=>{null==y||y(t),O({customInteraction:{type:"click",value:`${e} load more button ${b} click`},guest:{eventType:"customInteraction"}}),x(b+1)},[x,O,b,e,y]),C=(0,o.useCallback)(t=>{if(null==y||y(t),O({customInteraction:{type:"click",value:`${e} show less button`},guest:{eventType:"customInteraction"}}),x(0),p&&window.scrollY>=215){var r;null===(r=k.current)||void 0===r||r.scrollIntoView()}},[e,O,p,y]),T=(0,o.useCallback)(()=>b===r?o.Children.toArray(f).length:t*(b+1),[b,r,f,t]),P=(0,o.useCallback)(()=>{if(b===r)return 0;let e=o.Children.toArray(f).length,n=T(),i=e-n;return b===r-1?i:Math.min(i,t)},[b,r,t,f,T]),E=(0,o.useCallback)(e=>{let t=P();if(t>0){w(e);return}C(e)},[w,P,C]),S=o.Children.toArray(f),N=T(),_="Show less";return P()>0&&(_=`Show ${P()} more`),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a,{className:`${d?"h-flex-direction-col h-flex-align-center":"h-flex-direction-row"} h-display-flex h-flex-wrap ${m?"h-flex-justify-center":""}`,"data-test":h,ref:k,children:S.slice(0,N)}),S.length>t&&(g?(0,n.jsx)(i.X,{children:(0,n.jsxs)(c.F,{"aria-label":`${_} ${e}`,className:"h-text-grayDarkest h-margin-t-tiny","data-test":"loadMoreRecommendations",onClick:E,underline:"invert",children:[_," ",(0,n.jsx)(u,{isActive:"Show less"===_})]})}):(0,n.jsx)(i.X,{className:"h-flex-justify-center",children:(0,n.jsx)(l.P,{"aria-label":`${_} ${e} items`,className:"h-margin-h-default h-align-center","data-test":"loadMoreRecommendations",onClick:E,size:v,children:_})}))]})};f.displayName="ShowMoreItemsWrapper"}}]);