(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9840],{69877:function(e){var t=Math.floor,r=Math.random;e.exports=function(e,n){return e+t(r()*(n-e+1))}},45021:function(e,t,r){var n=r(35393)(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()});e.exports=n},83608:function(e,t,r){var n=r(69877),i=r(16612),o=r(18601),u=parseFloat,c=Math.min,s=Math.random;e.exports=function(e,t,r){if(r&&"boolean"!=typeof r&&i(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var l=e;e=t,t=l}if(r||e%1||t%1){var a=s();return c(e+a*(t-e+u("1e-"+((a+"").length-1))),t)}return n(e,t)}},14035:function(e,t,r){var n=r(35393)(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()});e.exports=n},58754:function(e,t,r){"use strict";r.d(t,{E:function(){return v}});var n=r(35216),i=r(17961),o=r(45057),u=r(13347);let c=e=>{401===e&&(0,u.zB)()};var s=r(59499),l=r(44350),a=r(37673),d=r(47269);let y={ALL:"ALL",CUSTOM:"CUSTOM",WEDDING:"WEDDING",BABY:"BABY",COLLEGE:"COLLEGE",SHOPPING_LIST:"SHOPPING_LIST",WISH_LIST:"WISH_LIST",GENERIC:"GENERIC",CHARITY:"CHARITY",HOUSEWARMING:"HOUSEWARMING",ANNIVERSARY:"ANNIVERSARY",PET:"PET",BIRTHDAY:"BIRTHDAY",HOLIDAY:"HOLIDAY",OTHER:"OTHER",BOY:"BOY",GIRL:"GIRL",MORE:"MORE",UNDEFINED_GENDER:"UNDEFINED",CHANNEL_WEB:"WEB",SUBCHANNEL_DESKTOP:"TGTWEB",SUBCHANNEL_TABLET:"TABLET",SUBCHANNEL_MOBILE:"MWEB"};function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let f=e=>{var t,r;let{fetchOptions:n,requestParams:i}=null!=e?e:{},{apiKey:o,apis:{registriesV2:u},baseUrl:c}=(0,l.config)().services.apiPlatform,s=`${null!==(t=null===(r=u.endpointPaths)||void 0===r?void 0:r.v2)&&void 0!==t?t:""}/${null==i?void 0:i.registry_id}/registry_items`,p=d.Z.buildURLWithParams(new URL(s,c),{channel:y.CHANNEL_WEB,sub_channel:y.SUBCHANNEL_DESKTOP,location_id:"3991",key:o,registry_id:null==i?void 0:i.registry_id}),f={};switch(null==i?void 0:i.registry_item_type){case"TCIN":f={tcin:null==i?void 0:i.tcin,requested_quantity:null==i?void 0:i.requested_quantity,purchased_quantity:null==i?void 0:i.purchased_quantity,registry_item_type:null==i?void 0:i.registry_item_type,item_note:null==i?void 0:i.item_note,added_by_recipient:null==i?void 0:i.added_by_recipient,most_wanted_flag:null==i?void 0:i.most_wanted_flag};break;case"EXTERNAL_ITEM":f={registry_item_type:null==i?void 0:i.registry_item_type,external_product_url:null==i?void 0:i.external_product_url,external_retailer:null==i?void 0:i.external_retailer,external_product_price:null==i?void 0:i.external_product_price,external_product_size:null==i?void 0:i.external_product_size,external_product_color:null==i?void 0:i.external_product_color,external_product_image_url:null==i?void 0:i.external_product_image_url,requested_quantity:null==i?void 0:i.requested_quantity,purchased_quantity:null==i?void 0:i.purchased_quantity,item_title:null==i?void 0:i.item_title,item_note:null==i?void 0:i.item_note,most_wanted_flag:null==i?void 0:i.most_wanted_flag,visibility_indicator:null==i?void 0:i.visibility_indicator};break;case"HONEYFUND_ITEM":f={registry_item_type:null==i?void 0:i.registry_item_type,item_note:null==i?void 0:i.item_note,most_wanted_flag:null==i?void 0:i.most_wanted_flag,visibility_indicator:null==i?void 0:i.visibility_indicator,honeyfund_item_experience_id:null==i?void 0:i.honeyfund_item_experience_id}}return{fetch:()=>(0,a.v_)(p,_(_({credentials:"include"},n),{},{headers:{Accept:"application/json"},body:JSON.stringify({items:[f]})})),url:p,options:e}},g="@site-registry/domains/registry/add-item/mutations/add-item",{useMutation:O}=(0,n.F)({name:g,mutationFn:async e=>{let t=f({requestParams:e,fetchOptions:{errorTag:g,timerTag:g}}),{data:r,ok:n,statusText:i}=await t.fetch().catch(e=>{c(e.status)});if(n)return r;throw Error(`${i}`)}}),v=(0,i.t)(O,{minimumAssuranceLevel:o.Jr})},7557:function(e,t,r){"use strict";r.d(t,{K:function(){return O}});var n=r(59499),i=r(25682),o=r(44350),u=r(20025),c=r(45057),s=r(83608),l=r.n(s),a=r(37673),d=r(47269);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let p=e=>{var t,r;let{apiKey:i,apis:{registriesV2:u},baseUrl:c}=(0,o.config)().services.apiPlatform,{fetchOptions:s,requestParams:p}=null!=e?e:{},{profile_id:_}=null!=p?p:{},f=d.Z.buildURLWithParams(new URL(null!==(t=null===(r=u.endpointPaths)||void 0===r?void 0:r.v2)&&void 0!==t?t:"",c),{profile_id:_,channel:"WEB",sub_channel:"TGTWEB",sn_id:l()(1,99999999,!1),key:i});return(0,a.U2)(f,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},s))};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let f="@web/domain-registry/registries/queries/get-registries",{useQuery:g}=(0,i.J)({name:f,keyFn:e=>{let{apiKey:t}=(0,o.config)().services.apiPlatform;if(!t)throw Error(`API key required for ${f}`);return[f,e]},queryFn:async(e,{requestMetricsOptions:t}={})=>{let{data:r}=await p({requestParams:e,fetchOptions:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({errorTag:f,timerTag:f,credentials:"include"},t)});return r},defaultOptions:{staleTime:3e4}}),O=(0,u.H)(g,{blockCallOnAuthFail:!0,minimumAssuranceLevel:c.Jr})},25029:function(e,t,r){"use strict";r.d(t,{A8:function(){return i},D:function(){return s},Dk:function(){return c},LL:function(){return a},Oe:function(){return n},So:function(){return o},qN:function(){return l},vC:function(){return u},vq:function(){return y},xb:function(){return d}});let n="https://www.target.com/gift-registry",i="regModeLP",o="Add to registry",u="GG",c="REGST",s="REG",l="CUSTOM",a="WEDDING",d="BABY",y="CHARITY"},19840:function(e,t,r){"use strict";r.d(t,{Q:function(){return h},g:function(){return P}});var n=r(59499),i=r(45021),o=r.n(i),u=r(14035),c=r.n(u),s=r(79833),l=r.n(s),a=r(67294),d=r(11163),y=r(57363),p=r(23100),_=r(46879),f=r(80198),g=r(13347),O=r(7557),v=r(58754),b=r(53376),m=r(25029);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let j=(0,y.getCookie)(m.A8);function h(){let e=(0,d.useRouter)(),{query:t}=e,r=(0,p.jI)(t,"regMode"),i=(0,p.jI)(t,"registryId"),o=(0,p.jI)(t,"itemLineNum"),u=(0,p.jI)(t,"registryType"),s=(0,p.jI)(t,"type"),y=l()(r),f=(0,_.xd)(),g=(0,a.useMemo)(()=>y===m.vC||y===m.Dk,[y]),O=(0,a.useCallback)(()=>y===m.vC,[y]),v=(0,a.useCallback)(()=>{if(i){var e;return{registry_information:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({registry_id:i,registry_subtype:c()(null!==(e=null!=u?u:s)&&void 0!==e?e:""),registry_type:"Registry"},o?{registry_line_id:o}:{})}}},[o,i,u,s]),b=(0,a.useMemo)(()=>!!j||y===m.Dk,[y]),h=(0,a.useMemo)(()=>y===m.vC,[y]),P=(0,a.useMemo)(()=>y===m.D||!g&&!!j,[g,y]),I=(0,a.useMemo)(()=>!!f&&(!!P||!!g),[P,g,f]);return{isGiftGiverOrRegistrantFromMyItems:g,registryModeStatusFromCookie:j,getRegistryInformationForAddToCart:v,hasRegistryModeStatus:P,isInRegistrantMode:b,isInGiftGiverMode:h,isInRegistryMode:I,getRegistryGiftGiverStatus:O}}function P({registryId:e,tcin:t,parentTcin:r,isStandaloneOrChildItem:n=!0,forceOpenMultipleRegistryDrawer:i=!1,addItemToRegistryOnSuccessCallback:u,addItemToRegistryOnErrorCallback:c,openCreateARegistryModal:s,openMultipleRegistryDrawer:l,isInPrzCarousel:y,lnkData:m}){let E=(0,d.useRouter)(),{query:j,asPath:h}=E,P=(0,_.zy)(),I=(0,f.P)(),w=(0,a.useMemo)(()=>null==h?void 0:h.includes("/gift-registry/browse-and-add-items"),[h]),T=(0,a.useMemo)(()=>w||y,[y,w]),[D,{isSuccess:N}]=(0,O.K)(),L=D(),A=(0,_.xd)(),C=(0,p.jI)(j,"registryId"),S=(null==L?void 0:L.length)===1?L[0].registry_id:null,R=!!(e||C||S),{ffCustomInteraction:k,ffComponentload:B}=(0,b.d)(),[M]=(0,v.E)({onSuccess:async()=>{var n,i;let c=null!==(n=null!=e?e:C)&&void 0!==n?n:S,s=null==L?void 0:null===(i=L.find(e=>(null==e?void 0:e.registry_id)===c))||void 0===i?void 0:i.registry_type;k(`registry_tcin_${t}_added_to_registry`,{},T?[{tcin:r,childTCIN:t}]:[]),B({addToRegistry:!0,registries:[{hasItems:!1,id:c,type:`${o()(s)} registry`}]},T?m:{},T?[{tcin:r,childTCIN:t}]:[]),u()},onError:async()=>{k(`registry_tcin_${t}_add_to_registry_failed`),c()}}),H=(0,a.useCallback)(async()=>{k("registry_add_to_registry_button_clicked"),A?N&&(!(null!=L&&L.length)&&s?s():R&&n&&!i?M({tcin:t,requested_quantity:1,purchased_quantity:0,registry_item_type:"TCIN",added_by_recipient:!0,registry_id:e||C||S||""}):l()):(0,g.zB)()},[k,A,N,null==L?void 0:L.length,s,R,n,i,M,t,e,C,S,l]),q=(0,a.useCallback)(async()=>{I&&(P?H():(0,g.zB)())},[H,I,P]);return{handleRegistryButtonClick:q}}},53376:function(e,t,r){"use strict";r.d(t,{d:function(){return y}});var n=r(59499),i=r(45021),o=r.n(i),u=r(67294),c=r(11163),s=r(43430),l=r(23100);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(){let e=(0,s.rS)(),t=(0,c.useRouter)(),{query:r}=t,n=(0,l.jI)(r,"type"),i=(0,l.jI)(r,"registryId"),a=(0,u.useMemo)(()=>i&&n?{registries:[{hasItems:!1,id:i,type:`${o()(n)} registry`}]}:{},[i,n]);return{ffCustomInteraction:function(t,r,n){t&&e.trackEvent(d({guest:{eventType:"customInteraction"},customInteraction:d({value:t},r)},n&&{products:n}))},ffAdImpressionsInteraction:function(t){t&&e.trackEvent({guest:{eventType:"adimp"},adImpressions:t})},ffComponentload:function(t={},r,n){e.trackEvent(d(d({guest:{eventType:"componentload"},registry:d(d({},a),t)},r&&{lnk:d({},r)}),n&&{products:n}))}}}}}]);