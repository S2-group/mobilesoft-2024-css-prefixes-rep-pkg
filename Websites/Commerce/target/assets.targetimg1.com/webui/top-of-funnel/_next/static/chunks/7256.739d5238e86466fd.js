"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7256],{51820:function(e,r,t){t.d(r,{Z:function(){return i}});var a=t(83946),n=t(19013),s=t(13882);function i(e,r){(0,s.Z)(2,arguments);var t=(0,n.Z)(e).getTime(),i=(0,a.Z)(r);return new Date(t+i)}},58545:function(e,r,t){t.d(r,{Z:function(){return i}});var a=t(83946),n=t(51820),s=t(13882);function i(e,r){(0,s.Z)(2,arguments);var t=(0,a.Z)(r);return(0,n.Z)(e,6e4*t)}},87803:function(e,r,t){t.d(r,{h:function(){return p}});var a=t(85893),n=t(19521),s=t(56947),i=t(89265);let o=e=>e?`0 0 ${s.space.generic.x4} 0;`:`0 ${s.space.generic.x4} 0 0`,l=(0,n.ZP)(i.q).withConfig({displayName:"styles__StyledCell",componentId:"sc-og024m-0"})(["padding:",";box-sizing:border-box;"," > button{margin:",";}"],s.space.generic.x4,({isStacked:e})=>e&&"flex-direction: column;",({isStacked:e})=>o(e)),p=({children:e,"data-test":r,isStacked:t=!1})=>(0,a.jsx)(l,{"data-test":r,divider:"topOnlySmallScreen",isStacked:t,children:e});p.displayName="ButtonGroup"},37256:function(e,r,t){t.d(r,{Z:function(){return eg}});var a=t(85893),n=t(67294),s=t(63546),i=t(46879),o=t(30695),l=t(48914),p=t(67105),c=t(36982),d=t(44350),u=t(25682),h=t(47269),m=t(37673);let{useQuery:y}=(0,u.J)({name:"@web/domain-guest/profile-shipt-memberships/get-shoppers",queryFn:async()=>{let{baseUrl:e,apiKey:r,apis:{guestProfileShiptMembershipsV1:t}}=(0,d.config)().services.apiPlatform,a=h.Z.buildURLWithParams(`${e}/${t.endpointPaths.shoppers}`,{}),{data:n,ok:s,statusText:i}=await (0,m.U2)(a,{credentials:"include",headers:{Accept:"application/json","x-api-key":r},errorTag:"get_preferred_shoppers_v1_api_error",timerTag:"get_preferred_shoppers_v1_api_call"});if(s)return null!=n?n:null;throw Error(`${i}`)}});var f=t(24223),g=t(55446),b=t(64334),v=t(46594);let S=({closeDrawer:e})=>{let r=(0,n.useCallback)(()=>e(),[e]);return(0,a.jsxs)("div",{className:"h-text-center","data-test":"tip-drawer-error",children:[(0,a.jsx)(v.N,{showDefaultImage:!0,showThankYouDefault:!0,size:"medium"}),(0,a.jsx)(g.w,{className:"h-margin-a-wide",level:3,children:"Thanks for the feedback"}),(0,a.jsx)("span",{children:"Your feedback helps us improve our Same Day Delivery service."}),(0,a.jsx)(b.D,{className:"h-margin-t-wide",isFullWidth:!0,onClick:r,children:"Done"})]})};S.displayName="ThankYouScreen";var P=t(5152),T=t.n(P);let x=T()(()=>t.e(5965).then(t.bind(t,89e3)).then(e=>e.LandingScreen),{loadableGenerated:{webpack:()=>[89e3]}});var w=t(7337);let j=()=>{let[e,{close:r,closeAll:t,open:i,isShown:o}]=(0,s.I)({type:"drawer",shouldStack:!1});e.displayName="DuplicateTipDrawerOverlay";let l=({order:t})=>{var n,s,i;return(0,a.jsx)(e,{headingText:"You're all set",children:(0,a.jsx)("div",{className:"h-text-center","data-test":"tip-drawer-duplicate",children:(0,a.jsxs)("div",{className:"h-padding-b-jumbo",children:[(0,a.jsx)(v.N,{shopperName:null!==(n=null==t?void 0:null===(s=t.shopper)||void 0===s?void 0:s.name)&&void 0!==n?n:"your shopper",shopperPicture:null==t?void 0:null===(i=t.shopper)||void 0===i?void 0:i.photo,size:"medium"}),(0,a.jsx)(g.w,{className:"h-margin-a-wide",level:3,children:"This shopper has already been tipped"}),(0,a.jsx)("div",{children:"Only one tip is allowed per order."}),(0,a.jsx)(w.P,{className:"h-margin-t-default","data-test":"done-btn",id:"done-btn",isFullWidth:!0,onClick:r,children:"Close"})]})})})};l.displayName="DuplicateTipDrawer";let p=(0,n.useCallback)(l,[e,r]);return(0,n.useMemo)(()=>[p,{close:r,closeAll:t,open:i,isShown:o}],[p,r,t,i,o])};var O=t(59499),_=t(35216);let{useMutation:k}=(0,_.F)({name:"@web/domain-guest/profile-shipt-memberships/post-shoppers",mutationFn:async({shopper_id:e})=>{let{baseUrl:r,apiKey:t,apis:{guestProfileShiptMembershipsV1:a}}=(0,d.config)().services.apiPlatform,n=h.Z.buildURLWithParams(`${r}/${a.endpointPaths.shoppers}`,{}),{data:s,ok:i,statusText:o}=await (0,m.v_)(n,{body:JSON.stringify({shopper_id:e}),credentials:"include",headers:{Accept:"application/json","x-api-key":t},errorTag:"post_preferred_shoppers_v1_api_error",timerTag:"post_preferred_shoppers_v1_api_call"});if(i)return s;throw Error(`${o}`)}});var N=t(91560),E=t(20374),C=t(63197),D=t(56947),A=t(19521);let R=A.ZP.p.withConfig({displayName:"styles__GrayAreaTextBox",componentId:"sc-2x09cs-0"})(["border-radius:",";background-color:",";font-size:",";color:",";padding:",";margin-bottom:",";text-align:left;vertical-align:middle;"],D.border.radius.x1,D.colors.background.lightest,D.font.size.text.medium,D.colors.text.onLight.secondary,D.space.generic.x4,D.space.generic.x4),I=A.ZP.div.withConfig({displayName:"styles__ShopperImageAndIconContainer",componentId:"sc-2x09cs-1"})(["width:215px;height:215px;margin:0 auto;position:relative;"]),U=A.ZP.img.withConfig({displayName:"styles__AbsolutePlacementGreenCheckmark",componentId:"sc-2x09cs-2"})(["position:absolute;top:85%;left:69%;"]),L=({shopperName:e,shopperPhoto:r,tipAmount:t})=>(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsxs)(R,{children:[(0,C.HR)(t)," has been charged to your card"]}):null,(0,a.jsxs)("div",{className:"h-text-center",children:[(0,a.jsx)(v.N,{isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(g.w,{className:"h-margin-t-default",level:3,stackSpacing:"x1",children:["Do you want to add ",e," as a Preferred Shopper?"]}),(0,a.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"We'll match you with your Preferred Shoppers based on availability"})]})]})]});L.displayName="PreferredShopperAddScreen";var Z=t(23609);let G="SHOULD_OPEN_MANAGE_PREFERRED_SHOPPER_DRAWER",B=()=>{let{0:e,1:r}=(0,n.useState)(!1),t=(0,n.useCallback)(()=>{Z.y7.remove(G),r(!1)},[]),a=(0,n.useCallback)(async()=>{var e;let r=null!==(e=await Z.y7.get(G))&&void 0!==e&&e;return!!r},[]),s=(0,n.useCallback)(e=>(t(),Z.y7.set(G,null==e||e)),[t]);return(0,n.useEffect)(()=>{let t=async()=>{if(e)return;let t=await a();r(t)};t()},[a,r,e]),(0,n.useMemo)(()=>[e,{clearShouldOpenFromStorage:t,setShouldOpenFromStorage:s}],[t,e,s])};var $=t(4730),M=t(87803),F=t(34014);let z=["displayText","showSpinner","spinnerDataTest"],H=["displayText"];function W(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function Y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?W(Object(t),!0).forEach(function(r){(0,O.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let J=({buttonPrimaryProps:e={},buttonSecondaryProps:r={}})=>{let{displayText:t,showSpinner:n,spinnerDataTest:s}=e,i=(0,$.Z)(e,z),{displayText:o}=r,l=(0,$.Z)(r,H);return(0,a.jsxs)(M.h,{isStacked:!0,children:[t?(0,a.jsx)(b.D,Y(Y({"aria-label":t,className:"h-padding-h-default"},i),{},{children:n?(0,a.jsx)(F.$,{className:"h-margin-h-default","data-test":null!=s?s:"@web/DrawerButtonGroupPrimarySpinner",size:"small",spinnerColor:"white"}):t})):null,o?(0,a.jsx)(w.P,Y(Y({"aria-label":o,className:"h-margin-v-none h-padding-h-default"},l),{},{children:o})):null]})};J.displayName="DrawerButtonGroup";var q=t(51480);let Q=({shopperName:e,shopperPhoto:r})=>(0,a.jsxs)("div",{className:"h-text-center",children:[(0,a.jsxs)(I,{children:[(0,a.jsx)(v.N,{isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,a.jsx)(U,{alt:"Green Checkmark",className:"successCheckmark",src:q.ks})]}),(0,a.jsxs)(g.w,{className:"h-margin-t-default",level:3,children:["Great! ",e," is a Preferred Shopper."]}),(0,a.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"View and edit your Preferred Shoppers any time under Account > Memberships."})]});function V(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function K(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?V(Object(t),!0).forEach(function(r){(0,O.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}Q.displayName="PreferredShopperSuccessScreen";let X=(e={})=>{let[r,{close:t,closeAll:i,open:o,isShown:l}]=(0,s.I)(K(K({shouldStack:!1},e),{},{type:"drawer"}));r.displayName="PreferredShopperSuccessDrawerOverlay";let p=({shopper:e,onAfterClose:s})=>{let[i,{setShouldOpenFromStorage:o}]=B(),l=null==e?void 0:e.name,p=null==e?void 0:e.photo,c=(0,n.useCallback)(()=>{o(),window.location.assign("/account/memberships")},[o]);return(0,a.jsx)(r,{hasCloseButton:!0,headingText:"Shopper added!",onAfterClose:s,renderCellButton:(0,a.jsx)(J,{buttonPrimaryProps:{className:"h-padding-h-default",onClick:t,displayText:"Done"},buttonSecondaryProps:{onClick:c,className:"h-margin-v-none h-padding-h-default",displayText:"View Preferred Shoppers"}}),scroll:"content",children:(0,a.jsx)(Q,{shopperName:null!=l?l:"Your shopper",shopperPhoto:p})})};p.displayName="PreferredShopperSuccessDrawer";let c=(0,n.useCallback)(p,[r,t]);return(0,n.useMemo)(()=>[c,{close:t,closeAll:i,open:o,isShown:l}],[c,t,i,o,l])},ee=({shopperName:e,shopperPhoto:r})=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"h-text-center",children:[(0,a.jsx)(v.N,{isGrayscale:!0,isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g.w,{className:"h-margin-t-default",level:3,stackSpacing:"x1",children:`Sorry, we couldn't add ${e}.`}),(0,a.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"Please try again. You can also add this shopper the next time you're matched."})]})]})});function er(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function et(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?er(Object(t),!0).forEach(function(r){(0,O.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}ee.displayName="PreferredShopperErrorScreen";let ea=(e={})=>{let[r,{close:t,closeAll:i,open:o,isShown:l}]=(0,s.I)(et(et({shouldStack:!1},e),{},{type:"drawer"}));r.displayName="PreferredShopperErrorDrawerOverlay";let p=({shopper:e,onAfterClose:s,openSuccessDrawer:i})=>{let{id:o,name:l,photo:p}=null!=e?e:{},{0:c,1:d}=(0,n.useState)(!1),[u,{isLoading:h}]=k(),m=(0,n.useCallback)(async()=>{await u({shopper_id:o},{onSuccess:()=>{d(!0),i()}})},[u,o,i]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r,{headingText:"Shopper not added",onAfterClose:c?void 0:s,renderCellButton:(0,a.jsx)(J,{buttonPrimaryProps:{onClick:h?void 0:m,displayText:"Try again",showSpinner:h,spinnerDataTest:"add-to-preferred-shoppers-spinner"},buttonSecondaryProps:{onClick:t,displayText:"Not this time"}}),scroll:"content",children:(0,a.jsx)(ee,{shopperName:l||"your shopper",shopperPhoto:p})})})};p.displayName="PreferredShoppeErrorDrawer";let c=(0,n.useCallback)(p,[r,t]);return(0,n.useMemo)(()=>[c,{close:t,closeAll:i,open:o,isShown:l}],[c,t,i,o,l])};var en=t(698);function es(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function ei(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?es(Object(t),!0).forEach(function(r){(0,O.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):es(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let eo=(e={})=>{let[r,{close:t,closeAll:i,open:o,isShown:l}]=(0,s.I)(ei(ei({shouldStack:!1},e),{},{type:"drawer"})),[p,{open:c}]=X(),[d,{open:u}]=ea(),{trackPreferredShopperPageload:h,trackPreferredShopperAdditionClick:m}=(0,en.W)();r.displayName="PreferredShopperDrawerOverlay";let f=({onAfterClose:e=()=>{},orderId:s,shopper:i,tipAmount:o})=>{let[f,{isLoading:g}]=k(),b=(0,E.w)(),{id:v,name:S,photo:P}=null!=i?i:{};(0,n.useEffect)(()=>{s&&l&&h({orderId:s})},[s]),(0,n.useEffect)(()=>{s&&l&&b("GLOBAL_PREFERRED_SHOPPER_DRAWER_ENABLED")},[s,b]);let T=(0,n.useCallback)(async()=>{await f({shopper_id:v},{onSuccess:()=>{c(),m({shopperId:v,orderId:s}),(0,N.Dm)(y)},onError:()=>{u()}})},[f,v,s]),x=S?` ${S}`:"",w=(0,n.useCallback)(()=>{t(),e()},[e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{headingText:`You ${o&&o>0?"tipped":"rated"}${x}!`,onCloseClick:e,onRequestClose:e,renderCellButton:(0,a.jsx)(J,{buttonPrimaryProps:{onClick:g?void 0:T,displayText:"Add to Preferred Shoppers",showSpinner:g,spinnerDataTest:"add-to-preferred-shoppers-spinner"},buttonSecondaryProps:{onClick:w,displayText:"Not this time"}}),scroll:"content",children:(0,a.jsx)(L,{shopperName:S||"your shopper",shopperPhoto:P,tipAmount:o})}),(0,a.jsx)(p,{onAfterClose:e,shopper:i}),(0,a.jsx)(d,{onAfterClose:e,openSuccessDrawer:c,shopper:i})]})};f.displayName="PreferredShopperDrawer";let g=(0,n.useCallback)(f,[r,t,l,u,c,d,p,h,m]);return(0,n.useMemo)(()=>[g,{close:t,closeAll:i,isShown:l,open:o}],[g,t,i,l,o])};var el=t(74149),ep=t(20025),ec=t(45057),ed=t(30738);let{useQuery:eu}=(0,u.J)({name:ed.I_,disableOnServer:!0,defaultOptions:{staleTime:ed.Ow},queryFn:async()=>{let{apiKey:e,apis:{orders:{endpointPaths:{shiptPendingOrders:r}}},baseUrl:t}=(0,d.config)().services.apiPlatform,a=h.Z.buildURLWithParams(new URL(r,t),{}),{data:n,ok:s,statusText:i}=await (0,m.U2)(a,{headers:{"x-api-key":e},credentials:"include",timerTag:"shipt_fetch_pending_tippable_orders_api_call",errorTag:"shipt_fetch_pending_tippable_orders_api_error"});if(s)return null!=n?n:null;throw Error(`${i}`)}}),eh=(0,ep.H)(eu,{minimumAssuranceLevel:ec.Y3}),{useQuery:em}=(0,u.J)({name:ed.kI,disableOnServer:!0,defaultOptions:{staleTime:ed.Ow},queryFn:async({orderNumber:e})=>{let{apiKey:r,apis:{orders:{endpointPaths:{shiptOrder:t}}},baseUrl:a}=(0,d.config)().services.apiPlatform,n=h.Z.buildURLWithParams(new URL(t,a),{}),{data:s,ok:i,statusText:o}=await (0,m.U2)(`${n}/${e}`,{headers:{"x-api-key":r},credentials:"include",timerTag:"shipt_fetch_feedback_api_call",errorTag:"shipt_fetch_feedback_api_error"});if(i)return null!=s?s:null;throw Error(`${o}`)}}),ey=(0,ep.H)(em,{minimumAssuranceLevel:ec.Jr}),ef=({orderNumber:e,enabled:r=!0}={})=>{let[t]=(0,p.fo)(void 0,{enabled:r}),a=!!t(c.QA),[s]=eh(void 0,{enabled:a&&r}),i=s(e?r=>{var t;return null==r?void 0:null===(t=r.orders)||void 0===t?void 0:t.find(r=>(null==r?void 0:r.id)===e)}:e=>{var r;return null==e?void 0:null===(r=e.orders)||void 0===r?void 0:r[0]}),o=i&&!(null!=i&&i.feedback),l=(0,n.useCallback)(()=>{(0,N.Lh)(eh.queryName),(0,N.Lh)(ey.queryName),(0,N.Dm)(eh),(0,N.Dm)(ey)},[]);return{order:o?i:void 0,invalidateQueries:l}},eg=()=>{let[e,r]=(0,s.I)({type:"drawer",shouldStack:!1}),[t,{open:u,close:h}]=(0,s.I)({type:"drawer",shouldStack:!1}),{trackRateAndTipPageload:m}=(0,en.W)(),[g,{open:b}]=eo(),[v,{open:P}]=j(),{0:T,1:w}=(0,n.useState)(),{0:O,1:_}=(0,n.useState)(null),k=(0,i.zy)(),N=(0,d.flags)("GLOBAL_TRBUY_PREFERRED_SHOPPER_ENABLED"),E=(0,f.T)().GLOBAL_PREFERRED_SHOPPER_DRAWER_ENABLED,C=N&&E,[D,{suppressDrawerTemporarily:A}]=(0,el.zA)(),R=(0,n.useCallback)(()=>{D||A()},[D,A]),I=({orderNumber:s}={})=>{var i;let{order:d,invalidateQueries:f}=ef({orderNumber:s});(0,n.useEffect)(()=>{!d||T||D||(r.open(),w(!0),m({orderId:null==d?void 0:d.id}))},[d]),(0,n.useEffect)(()=>{D&&T&&(r.close(),w(!1))},[]);let j=(0,n.useCallback)(()=>{k?f():A(),w(!1)},[f]),[N]=(0,p.fo)({responseGroup:["shipt"]},{enabled:r.isShown&&C}),E=N(c.hs),[I,{status:U}]=y(void 0,{enabled:r.isShown&&E&&C&&k}),L=null==d?void 0:null===(i=d.shopper)||void 0===i?void 0:i.id,Z=I(),G=Z?Z.filter(e=>{var r;return(null==e?void 0:null===(r=e.shopper)||void 0===r?void 0:r.id)===L}):[],B=U!==l.o.Error&&(null==d?void 0:d.shopper)&&0===G.length&&C&&E,$=(0,n.useCallback)((e,r)=>{B&&5===r?(_(e),b()):u()},[B]),M=(0,n.useCallback)(()=>P(),[]);return(0,a.jsxs)(o.n,{tag:"error_boundary_shipt_tip_drawer",children:[(0,a.jsx)(e,{hasCloseButton:!k,hasDisabledCloseOptions:k,headingText:"Your order was delivered!",children:(0,a.jsx)(x,{closeAndSuppressDrawer:R,handleDuplicateTip:M,onTipFormSuccess:$,order:d})}),(0,a.jsx)(t,{headingText:"Thank you",onAfterClose:j,children:(0,a.jsx)(S,{closeDrawer:h})}),(0,a.jsx)(g,{onAfterClose:j,orderId:null==d?void 0:d.id,shopper:null==d?void 0:d.shopper,tipAmount:O}),(0,a.jsx)(v,{order:d})]})};I.displayName="RateAndTipDrawer";let U=(0,n.useCallback)(I,[R,h,e,v,k,D,C,T,P,b,u,r,g,A,t,O,m]);return[U,r]}},46594:function(e,r,t){t.d(r,{N:function(){return c}});var a=t(85893),n=t(51480),s=t(19521),i=t(56947);let o=({size:e})=>"small"===e?`
        width: 88px;
        height: 88px;
    `:`
    width: 215px;
    height: 215px;
    `,l=({isPreferredShopper:e})=>e?`
        margin-top:0px;
    `:`
  margin-top: ${i.space.generic.x7};
    `,p=s.ZP.div.withConfig({displayName:"styles__ShopperProfilePic",componentId:"sc-1jmlzh2-0"})(["display:inline-block;overflow:hidden;position:relative;transition:width 1s;transition:margin-top 1s;"," img,svg{",";",";object-fit:cover;border-radius:50%;}"],({isPreferredShopper:e})=>l({isPreferredShopper:e}),({isGrayscale:e})=>!0===e?"filter: grayscale(1)":null,({size:e})=>o({size:e})),c=({isGrayscale:e,isPreferredShopper:r,size:t,shopperName:s,shopperPicture:i,showDefaultImage:o=!1,showThankYouDefault:l=!1})=>{let c;return c=l?(0,a.jsx)("img",{alt:"Thank You",src:n.er}):!o&&i?(0,a.jsx)("img",{alt:s,src:i}):e?(0,a.jsx)("img",{alt:"Shipt Shopper",src:n.YH}):(0,a.jsx)("img",{alt:"Shipt Shopper",src:n.G_}),(0,a.jsx)(p,{isGrayscale:e,isPreferredShopper:r,size:t,children:c})};c.displayName="ShopperProfilePicture"},74149:function(e,r,t){t.d(r,{zA:function(){return l}});var a=t(67294),n=t(23609),s=t(58545);let i="SDRAT_SUPRESS",o="SDRAT_SUPRESS_COUNT",l=()=>{let{0:e,1:r}=(0,a.useState)(!1),t=(0,a.useCallback)(()=>n.ZP.remove(i),[]),l=(0,a.useCallback)(()=>n.ZP.remove(o),[]),p=(0,a.useCallback)(async()=>{var e;return null!==(e=await n.ZP.get(o))&&void 0!==e?e:0},[]),c=(0,a.useCallback)(async()=>{var e,r;let t=null!==(e=await n.ZP.get(i))&&void 0!==e&&e,a=null===(r=await n.ZP.isExpired(i))||void 0===r||r;return!!(t&&!a)},[]),d=(0,a.useCallback)(e=>{l(),t();let r=(0,s.Z)(new Date,30);return n.ZP.set(i,e,{expiry:r.getTime()})},[l,t]);(0,a.useEffect)(()=>{let t=async()=>{if(e)return;let t=await c();r(t)};t()},[c,r,e]);let u=(0,a.useCallback)(()=>{let r=async()=>{if(e)return;let r=await p();r<1?n.ZP.set(o,r+1):await d(!0)};r()},[e,p,d]),h=(0,a.useCallback)(()=>{e||r(!0)},[e]);return(0,a.useMemo)(()=>[e,{suppressDrawer:u,suppressDrawerTemporarily:h,clearDrawerSuppressionCount:l,clearShouldSuppress:t}],[e,u,h,l,t])}},698:function(e,r,t){t.d(r,{W:function(){return s}});var a=t(67294),n=t(43430);let s=()=>{let e=(0,n.rS)(),r=(0,a.useCallback)(({orderId:r,rating:t,tip:a,tipPercentage:n})=>{e.trackEvent({guest:{eventType:"click"},appState:{pageName:"rate and tip",pageType:"rate and tip",cmsPageId:"/rateAndTip/",cmsPageType:"/rateAndTip/"},lnk:{contentClick:{componentType:`rate and tip: star rating : ${t}`,contentType:r,componentSubType:a,linkName:n}}})},[e]),t=(0,a.useCallback)(({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip: order details",pageType:"rate and tip: order details",cmsPageId:"/rateAndTip/orderDetails/",cmsPageType:"/rateAndTip/orderDetails/",previousPageName:"rate and tip"},components:[{componentType:"rate and tip",contentType:r}]})},[e]),s=(0,a.useCallback)(({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip/favoriteshopper",pageType:"rate and tip",cmsPageId:"/rateAndTip/favoriteshopper",cmsPageType:"/rateAndTip"},components:[{componentType:"rate and tip: Favorite shopper",contentType:r}]})},[e]),i=(0,a.useCallback)(({shopperId:r,orderId:t})=>{e.trackEvent({guest:{eventType:"click"},appState:{pageName:"rate and tip/favoriteshopper",pageType:"rate and tip",cmsPageId:"/rateAndTip/favoriteshopper",cmsPageType:"/rateAndTip"},lnk:{contentClick:{component:`Shopper id: ${r}`,contentType:t,componentType:"rate and tip: Favorite shopper added"}}})},[e]),o=(0,a.useCallback)(({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip",pageType:"rate and tip",cmsPageId:"/rateAndTip/",cmsPageType:"/rateAndTip/"},components:[{componentType:"rate and tip",contentType:r}]})},[e]);return{trackRatingAndTipSubmissionClick:r,trackOrderDetailsLitePageload:t,trackPreferredShopperPageload:s,trackPreferredShopperAdditionClick:i,trackRateAndTipPageload:o}}},51480:function(e,r){var t,a,n,s="87373691";r.Lr=void 0,(n=r.Lr||(r.Lr={})).BEST_JUDGEMENT="BEST_JUDGEMENT",n.CONTACT_CUSTOMER="CONTACT_CUSTOMER",n.NO_SUBSTITUTION="NO_SUBSTITUTION",(t={})[r.Lr.BEST_JUDGEMENT]="Get similar item",t[r.Lr.CONTACT_CUSTOMER]="Text me",t[r.Lr.NO_SUBSTITUTION]="Don’t substitute",(a={})[r.Lr.BEST_JUDGEMENT]="Shopper can use their best judgment.",a[r.Lr.CONTACT_CUSTOMER]="Let me help choose a substitute.",a[r.Lr.NO_SUBSTITUTION]="Get only the items or backups I selected.",r.r2={cart_item:{item_type:"SHIPT_MEMBERSHIP",quantity:1,tcin:s},fulfillment:{type:"EMAIL"},cart_type:"REGULAR",channel_id:"10"},r.kH=s,r.Gm="$35",r.tT="$9.99",r.SP="https://help.target.com/help/subcategoryarticle?childcat=Same+Day+Delivery+%28shopped+by+Shipt%29&parentcat=Delivery+%26+Pickup&searchQuery=search+help",r.G_="https://target.scene7.com/is/image/Target/GUEST_bab38ca0-c750-488f-b10c-c20a40871861",r.YH="https://target.scene7.com/is/content/Target/GUEST_b77289f9-78a0-4799-aece-c231b1c5bc32",r.ks="https://target.scene7.com/is/content/Target/GUEST_189c0c4d-a730-4459-b564-96ae5f29f6cd",r.er="https://target.scene7.com/is/image/Target/GUEST_291b667d-1dee-450d-980e-fe4463d51538",r.pj="$99",r.o2="$99.00",r.E1=99},30738:function(e,r,t){t.d(r,{I_:function(){return n},Ow:function(){return a},S3:function(){return o},kI:function(){return s},ud:function(){return i}});let a=3e5,n="@web/domain-orders/get-pending-shipt-orders",s="@web/domain-orders/get-shipt-order",i="@web/domain-orders/post-shopper-rating-and-tip",o={pending_order:!0,shipt_status:!0}}}]);